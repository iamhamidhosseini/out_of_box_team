<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Track - برنامه ورزشی </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #0f0c29;
            --secondary-dark: #1a1a2e;
            --accent-purple: #6a11cb;
            --accent-blue: #2575fc;
            --accent-green: #00b09b;
            --accent-orange: #ff7e5f;
            --accent-red: #f80759;
            --accent-gold: #ffd700;
            --text-light: #f0f0f0;
            --text-gray: #b0b0b0;
            --card-bg: rgba(25, 25, 45, 0.9);
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --border-radius: 20px;
            --nav-bg: rgba(15, 12, 41, 0.98);
        }
        
        .light-theme {
            --primary-dark: #f8f9ff;
            --secondary-dark: #eef2ff;
            --accent-purple: #8a2be2;
            --accent-blue: #1e90ff;
            --accent-green: #28a745;
            --accent-orange: #fd7e14;
            --accent-red: #dc3545;
            --accent-gold: #ffc107;
            --text-light: #1a1a2e;
            --text-gray: #5a5a7a;
            --card-bg: rgba(255, 255, 255, 0.98);
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            --nav-bg: rgba(255, 255, 255, 0.98);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazirmatn', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
            color: var(--text-light);
            min-height: 100vh;
            transition: var(--transition);
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* دکمه‌ها و المان‌های مشترک */
        .btn {
            padding: 14px 28px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
            z-index: -1;
        }
        
        .btn:hover::before {
            transform: translateX(0);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            box-shadow: 0 6px 20px rgba(106, 17, 203, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(106, 17, 203, 0.6);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent-purple);
            color: var(--text-light);
        }
        
        .btn-secondary:hover {
            background: var(--accent-purple);
            transform: translateY(-3px);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--accent-green), #11998e);
            color: white;
            box-shadow: 0 6px 20px rgba(0, 176, 155, 0.4);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--accent-red), #ff416c);
            color: white;
            box-shadow: 0 6px 20px rgba(248, 7, 89, 0.4);
        }
        
        .btn-gold {
            background: linear-gradient(135deg, #ffd700, #ff9500);
            color: #000;
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
        }
        
        .hidden {
            display: none !important;
        }
        
        /* صفحه ورود جذاب‌تر */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .auth-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }
        
        .auth-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(15, 12, 41, 0.9), rgba(26, 26, 46, 0.9));
            z-index: 1;
        }
        
        .floating-planets {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        
        .floating-planet {
            position: absolute;
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0.7;
            animation: float 20s infinite linear;
        }
        
        .planet-1 {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle at 30% 30%, #00b09b, #006652);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
            box-shadow: 0 0 40px rgba(0, 176, 155, 0.5);
        }
        
        .planet-2 {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #2575fc, #0a4fcf);
            top: 70%;
            left: 85%;
            animation-delay: -5s;
            animation-duration: 25s;
            box-shadow: 0 0 30px rgba(37, 117, 252, 0.5);
        }
        
        .planet-3 {
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at 30% 30%, #6a11cb, #4a0a9a);
            top: 20%;
            left: 80%;
            animation-delay: -10s;
            animation-duration: 30s;
            box-shadow: 0 0 50px rgba(106, 17, 203, 0.5);
        }
        
        .planet-4 {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle at 30% 30%, #ff7e5f, #ff4a1c);
            top: 80%;
            left: 15%;
            animation-delay: -15s;
            animation-duration: 22s;
            box-shadow: 0 0 35px rgba(255, 126, 95, 0.5);
        }
        
        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(30px, 50px) rotate(90deg);
            }
            50% {
                transform: translate(0, 100px) rotate(180deg);
            }
            75% {
                transform: translate(-30px, 50px) rotate(270deg);
            }
            100% {
                transform: translate(0, 0) rotate(360deg);
            }
        }
        
        .auth-box {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 500px;
            padding: 50px;
            text-align: center;
            position: relative;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .light-theme .auth-box {
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .auth-box::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--accent-purple), var(--accent-blue), var(--accent-green));
            border-radius: var(--border-radius);
            z-index: -1;
            opacity: 0.2;
            filter: blur(10px);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }
        
        .logo img {
            width: 60px;
            height: 60px;
        }
        
        .auth-form h2 {
            margin-bottom: 30px;
            font-size: 2rem;
            position: relative;
            display: inline-block;
        }
        
        .auth-form h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, var(--accent-purple), var(--accent-blue));
            border-radius: 2px;
        }
        
        .form-group {
            margin-bottom: 25px;
            text-align: right;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        .light-theme .form-group label {
            color: #333;
        }
        
        .form-control {
            width: 100%;
            padding: 16px 24px;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-light);
            font-size: 1.1rem;
            transition: var(--transition);
        }
        
        .light-theme .form-control {
            background: rgba(0, 0, 0, 0.05);
            border: 2px solid rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(106, 17, 203, 0.2);
            transform: translateY(-2px);
        }
        
        .auth-toggle {
            margin-top: 25px;
            color: var(--text-gray);
            font-size: 1.1rem;
        }
        
        .auth-toggle a {
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 8px;
        }
        
        .auth-toggle a:hover {
            background: rgba(106, 17, 203, 0.1);
        }
        
        .sample-accounts-link {
            margin-top: 20px;
            text-align: center;
        }
        
        .sample-accounts-link a {
            color: var(--accent-green);
            text-decoration: none;
            font-size: 0.95rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 8px 16px;
            border-radius: 8px;
            background: rgba(0, 176, 155, 0.1);
            display: inline-block;
        }
        
        .sample-accounts-link a:hover {
            background: rgba(0, 176, 155, 0.2);
            transform: translateY(-2px);
        }
        
        /* هدر */
        header {
            background: var(--nav-bg);
            backdrop-filter: blur(15px);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
            padding: 15px 0;
            border-bottom: 2px solid rgba(106, 17, 203, 0.3);
            transition: var(--transition);
        }
        
        .light-theme header {
            border-bottom: 2px solid rgba(106, 17, 203, 0.2);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-avatar {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--accent-purple);
            transition: var(--transition);
            position: relative;
        }
        
        .user-avatar:hover {
            transform: scale(1.1);
            border-color: var(--accent-blue);
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-level-badge {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background: var(--accent-green);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            border: 2px solid var(--primary-dark);
        }
        
        .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .light-theme .theme-toggle {
            background: rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .theme-toggle:hover {
            background: rgba(106, 17, 203, 0.3);
            transform: rotate(15deg);
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-link {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 0;
            position: relative;
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .light-theme .nav-link {
            color: #333;
        }
        
        .nav-link:hover {
            color: var(--accent-blue);
        }
        
        .nav-link.active {
            color: var(--accent-purple);
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, var(--accent-purple), var(--accent-blue));
            border-radius: 2px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* صفحه خوش‌آمدگویی */
        .welcome-page {
            min-height: calc(100vh - 200px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px 0;
        }
        
        .welcome-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 60px 40px;
            box-shadow: var(--shadow);
            text-align: center;
            max-width: 800px;
            width: 100%;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .welcome-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, var(--accent-green), var(--accent-blue), var(--accent-purple));
        }
        
        .welcome-icon {
            font-size: 5rem;
            color: var(--accent-purple);
            margin-bottom: 30px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .welcome-card h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .welcome-card p {
            font-size: 1.3rem;
            margin-bottom: 40px;
            color: var(--text-gray);
            line-height: 1.8;
        }
        
        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }
        
        .welcome-feature {
            padding: 25px;
            border-radius: 15px;
            background: rgba(106, 17, 203, 0.1);
            transition: var(--transition);
        }
        
        .welcome-feature:hover {
            transform: translateY(-10px);
            background: rgba(106, 17, 203, 0.2);
        }
        
        .welcome-feature i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--accent-blue);
        }
        
        /* صفحه پورتال */
        .portal-container {
            padding: 40px 0;
            min-height: calc(100vh - 200px);
        }
        
        .welcome-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 50px;
            background: linear-gradient(135deg, rgba(106, 17, 203, 0.2), rgba(37, 117, 252, 0.2));
            padding: 35px;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(106, 17, 203, 0.3);
        }
        
        .welcome-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(106, 17, 203, 0.1) 0%, transparent 70%);
            z-index: 0;
        }
        
        .welcome-section > * {
            position: relative;
            z-index: 1;
        }
        
        .daily-quote {
            background: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            border-right: 8px solid var(--accent-purple);
            position: relative;
            overflow: hidden;
        }
        
        .daily-quote::before {
            content: '"';
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 8rem;
            color: rgba(106, 17, 203, 0.1);
            font-family: Georgia, serif;
            line-height: 1;
        }
        
        .daily-quote i {
            color: var(--accent-orange);
            font-size: 2rem;
            margin-left: 15px;
        }
        
        .quote-text {
            font-size: 1.4rem;
            line-height: 1.8;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        .quote-author {
            text-align: left;
            font-style: normal;
            color: var(--accent-blue);
            font-weight: 600;
        }
        
        .grid-layout {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 35px;
            margin-bottom: 50px;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }
        
        .light-theme .card {
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--accent-purple), var(--accent-blue));
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-theme .card-header {
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        /* سیستم گیمیفیکیشن و سیاره‌ها */
        .planet-section {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .planet-container {
            position: relative;
            width: 350px;
            height: 350px;
            margin: 0 auto 40px;
        }
        
        .planet {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            transition: all 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 0 80px rgba(255, 255, 255, 0.2),
                inset 0 0 60px rgba(255, 255, 255, 0.2);
            overflow: hidden;
            animation: rotate 60s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .planet-level-1 {
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at 30% 30%, #00b09b, #006652, #004d40);
            box-shadow: 0 0 60px rgba(0, 176, 155, 0.7);
            animation: glow-green 3s infinite alternate;
        }
        
        .planet-level-2 {
            width: 180px;
            height: 180px;
            background: radial-gradient(circle at 30% 30%, #2575fc, #0a4fcf, #0a3d91);
            box-shadow: 0 0 70px rgba(37, 117, 252, 0.7);
            animation: glow-blue 3s infinite alternate;
        }
        
        .planet-level-3 {
            width: 210px;
            height: 210px;
            background: radial-gradient(circle at 30% 30%, #ff7e5f, #ff4a1c, #e63e00);
            box-shadow: 0 0 80px rgba(255, 126, 95, 0.7);
            animation: glow-orange 3s infinite alternate;
        }
        
        .planet-level-4 {
            width: 240px;
            height: 240px;
            background: radial-gradient(circle at 30% 30%, #f80759, #c40547, #a0043a);
            box-shadow: 0 0 90px rgba(248, 7, 89, 0.7);
            animation: glow-red 3s infinite alternate;
        }
        
        .planet-level-5 {
            width: 280px;
            height: 280px;
            background: radial-gradient(circle at 30% 30%, #6a11cb, #4a0a9a, #2d0560);
            box-shadow: 0 0 100px rgba(106, 17, 203, 0.8);
            animation: glow-purple 3s infinite alternate;
        }
        
        @keyframes glow-green {
            0% { box-shadow: 0 0 60px rgba(0, 176, 155, 0.7); }
            100% { box-shadow: 0 0 90px rgba(0, 176, 155, 0.9); }
        }
        
        @keyframes glow-blue {
            0% { box-shadow: 0 0 70px rgba(37, 117, 252, 0.7); }
            100% { box-shadow: 0 0 100px rgba(37, 117, 252, 0.9); }
        }
        
        @keyframes glow-orange {
            0% { box-shadow: 0 0 80px rgba(255, 126, 95, 0.7); }
            100% { box-shadow: 0 0 110px rgba(255, 126, 95, 0.9); }
        }
        
        @keyframes glow-red {
            0% { box-shadow: 0 0 90px rgba(248, 7, 89, 0.7); }
            100% { box-shadow: 0 0 120px rgba(248, 7, 89, 0.9); }
        }
        
        @keyframes glow-purple {
            0% { box-shadow: 0 0 100px rgba(106, 17, 203, 0.8); }
            100% { box-shadow: 0 0 130px rgba(106, 17, 203, 1); }
        }
        
        .planet-ring {
            position: absolute;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.3);
            animation: rotate-ring 20s linear infinite;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .ring-1 {
            width: 160%;
            height: 160%;
            animation-duration: 25s;
            border-color: rgba(0, 176, 155, 0.4);
        }
        
        .ring-2 {
            width: 200%;
            height: 200%;
            animation-duration: 30s;
            animation-direction: reverse;
            border-color: rgba(37, 117, 252, 0.4);
        }
        
        .ring-3 {
            width: 240%;
            height: 240%;
            animation-duration: 35s;
            border-color: rgba(106, 17, 203, 0.4);
        }
        
        @keyframes rotate-ring {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .level-info {
            text-align: center;
            margin-top: 30px;
        }
        
        .level-title {
            font-size: 1.8rem;
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--accent-green), var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }
        
        .progress-container {
            width: 100%;
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin: 25px 0;
            overflow: hidden;
            position: relative;
        }
        
        .light-theme .progress-container {
            background: rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue), var(--accent-purple));
            border-radius: 15px;
            width: 0%;
            transition: width 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .progress-stars {
            display: flex;
            justify-content: space-between;
            width: 100%;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            padding: 0 10px;
        }
        
        .progress-star {
            width: 20px;
            height: 20px;
            background: var(--primary-dark);
            border-radius: 50%;
            border: 2px solid var(--accent-blue);
            z-index: 2;
        }
        
        .progress-star.active {
            background: var(--accent-gold);
            border-color: var(--accent-gold);
            box-shadow: 0 0 10px var(--accent-gold);
        }
        
        /* تقویم */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        
        .calendar-header {
            text-align: center;
            font-weight: 700;
            padding: 15px 0;
            color: var(--accent-blue);
            font-size: 1.1rem;
        }
        
        .calendar-day {
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            position: relative;
        }
        
        .calendar-day:hover {
            background: rgba(106, 17, 203, 0.2);
            transform: scale(1.1);
        }
        
        .calendar-day.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.4);
        }
        
        .calendar-day.event {
            position: relative;
            color: var(--accent-orange);
        }
        
        .calendar-day.event::after {
            content: '';
            position: absolute;
            bottom: 5px;
            width: 8px;
            height: 8px;
            background: var(--accent-orange);
            border-radius: 50%;
        }
        
        /* نمودارها */
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        /* ثبت عملکرد روزانه */
        .performance-form {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .upload-area {
            border: 4px dashed var(--accent-purple);
            border-radius: var(--border-radius);
            padding: 50px;
            text-align: center;
            margin-bottom: 40px;
            cursor: pointer;
            transition: var(--transition);
            background: rgba(106, 17, 203, 0.05);
        }
        
        .upload-area:hover {
            background: rgba(106, 17, 203, 0.1);
            border-color: var(--accent-blue);
            transform: translateY(-5px);
        }
        
        .upload-area i {
            font-size: 5rem;
            color: var(--accent-purple);
            margin-bottom: 25px;
        }
        
        .upload-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .upload-item {
            width: 180px;
            height: 180px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: var(--transition);
        }
        
        .upload-item:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        
        .upload-item img, .upload-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .upload-item .remove-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--accent-red);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .upload-item .remove-btn:hover {
            transform: scale(1.2);
        }
        
        /* گالری رویدادها */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .event-card {
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            background: var(--card-bg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .event-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }
        
        .event-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .event-card:hover .event-img {
            transform: scale(1.1);
        }
        
        .event-info {
            padding: 20px;
        }
        
        /* مودال */
        .modal-overlay {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 40px;
            position: relative;
            transform: translateY(50px) scale(0.9);
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(106, 17, 203, 0.3);
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0) scale(1);
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            left: 20px;
            background: var(--accent-red);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
            z-index: 2;
        }
        
        .modal-close:hover {
            transform: rotate(90deg) scale(1.1);
        }
        
        /* صفحه پروفایل */
        .profile-container {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .profile-sidebar {
            flex: 1;
            min-width: 350px;
        }
        
        .profile-main {
            flex: 2;
            min-width: 350px;
        }
        
        .profile-card {
            text-align: center;
            padding: 40px 30px;
            background: linear-gradient(135deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1));
            border-radius: var(--border-radius);
        }
        
        .profile-avatar {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 25px;
            border: 5px solid var(--accent-purple);
            position: relative;
            transition: var(--transition);
        }
        
        .profile-avatar:hover {
            transform: scale(1.05);
            border-color: var(--accent-blue);
        }
        
        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .avatar-upload {
            margin-top: 20px;
        }
        
        /* رنکینگ */
        .ranking-list {
            list-style: none;
        }
        
        .ranking-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .light-theme .ranking-item {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .ranking-item:hover {
            background: rgba(106, 17, 203, 0.15);
            transform: translateX(-10px);
        }
        
        .rank {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-weight: bold;
            font-size: 1.2rem;
            margin-left: 20px;
            flex-shrink: 0;
        }
        
        .rank-1 {
            background: linear-gradient(135deg, #ffd700, #ff9500);
            color: #000;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        }
        
        .rank-2 {
            background: linear-gradient(135deg, #c0c0c0, #808080);
            color: #000;
            box-shadow: 0 5px 20px rgba(192, 192, 192, 0.5);
        }
        
        .rank-3 {
            background: linear-gradient(135deg, #cd7f32, #a0522d);
            color: #000;
            box-shadow: 0 5px 20px rgba(205, 127, 50, 0.5);
        }
        
        .rank-other {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }
        
        .light-theme .rank-other {
            background: rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        /* چت */
        .chat-container {
            display: flex;
            height: 600px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }
        
        .chat-sidebar {
            width: 350px;
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            overflow-y: auto;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-theme .chat-sidebar {
            background: rgba(0, 0, 0, 0.1);
            border-left: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .light-theme .chat-main {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .chat-header {
            padding: 25px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
        }
        
        .light-theme .chat-header {
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
            background: rgba(0, 0, 0, 0.05);
        }
        
        .chat-messages {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .message {
            max-width: 75%;
            padding: 15px 20px;
            border-radius: 20px;
            position: relative;
            animation: messageAppear 0.3s ease-out;
        }
        
        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.sent {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            border-bottom-right-radius: 5px;
        }
        
        .message.received {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            border-bottom-left-radius: 5px;
        }
        
        .light-theme .message.received {
            background: rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .message-time {
            font-size: 0.8rem;
            opacity: 0.7;
            text-align: left;
            margin-top: 5px;
        }
        
        .chat-input {
            padding: 25px;
            display: flex;
            gap: 15px;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
        }
        
        .light-theme .chat-input {
            border-top: 2px solid rgba(0, 0, 0, 0.1);
            background: rgba(0, 0, 0, 0.05);
        }
        
        .chat-input input {
            flex: 1;
            padding: 15px 25px;
            border-radius: 50px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-light);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .light-theme .chat-input input {
            background: rgba(0, 0, 0, 0.05);
            border: 2px solid rgba(0, 0, 0, 0.1);
            color: #333;
        }
        
        .chat-input input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 3px rgba(106, 17, 203, 0.2);
        }
        
        /* مربیان */
        .coaches-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 35px;
        }
        
        .coach-card {
            text-align: center;
            padding: 30px;
            border-radius: var(--border-radius);
            background: linear-gradient(135deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1));
            transition: var(--transition);
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .coach-card:hover {
            transform: translateY(-10px);
            background: linear-gradient(135deg, rgba(106, 17, 203, 0.2), rgba(37, 117, 252, 0.2));
            box-shadow: 0 20px 50px rgba(106, 17, 203, 0.3);
        }
        
        .coach-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 20px;
            border: 4px solid var(--accent-purple);
            transition: var(--transition);
        }
        
        .coach-card:hover .coach-avatar {
            transform: scale(1.1);
            border-color: var(--accent-blue);
        }
        
        .coach-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* گواهی بهبود یافته */
        .certificate-container {
            background: linear-gradient(135deg, #f8f3e9, #f0e6d6, #e8d9c3);
            color: #2c1810;
            padding: 60px;
            border-radius: 25px;
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            text-align: center;
            font-family: 'Georgia', 'Times New Roman', serif;
            overflow: hidden;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .certificate-container::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/paper.png');
            opacity: 0.4;
            z-index: 0;
        }
        
        .certificate-border {
            border: 25px solid transparent;
            border-image: url('https://www.transparenttextures.com/patterns/gold-floral.png') 40 stretch;
            padding: 50px;
            position: relative;
            z-index: 1;
        }
        
        .certificate-logo {
            position: absolute;
            top: 40px;
            left: 40px;
            width: 120px;
            filter: sepia(0.5) brightness(0.9);
        }
        
        .certificate-watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 150px;
            color: rgba(139, 69, 19, 0.1);
            font-weight: bold;
            letter-spacing: 25px;
            z-index: 0;
            text-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .certificate-title {
            font-size: 4rem;
            color: #8b4513;
            margin-bottom: 40px;
            letter-spacing: 8px;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.2);
            font-family: 'Times New Roman', serif;
        }
        
        .certificate-subtitle {
            font-size: 2rem;
            margin-bottom: 60px;
            color: #2c1810;
            font-weight: normal;
            font-style: italic;
        }
        
        .certificate-name {
            font-size: 3.5rem;
            color: #8b4513;
            margin: 50px 0;
            padding: 30px 0;
            border-top: 4px solid #8b4513;
            border-bottom: 4px solid #8b4513;
            font-family: 'Lucida Calligraphy', 'Apple Chancery', cursive;
            background: linear-gradient(135deg, transparent 30%, rgba(139, 69, 19, 0.1) 50%, transparent 70%);
        }
        
        .certificate-details {
            margin: 50px 0;
            font-size: 1.5rem;
            line-height: 2.2;
        }
        
        .certificate-signature {
            margin-top: 80px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .signature-line {
            width: 300px;
            border-top: 3px solid #8b4513;
            padding-top: 20px;
            font-style: italic;
            font-size: 1.2rem;
        }
        
        .certificate-seal {
            position: absolute;
            bottom: 50px;
            left: 50px;
            width: 150px;
            opacity: 0.9;
            filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.3));
        }
        
        .certificate-stamp {
            position: absolute;
            bottom: 50px;
            right: 50px;
            width: 120px;
            opacity: 0.8;
        }
        
        /* پنل مربی و ادمین */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            padding: 30px;
            border-radius: var(--border-radius);
            text-align: center;
            color: white;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(106, 17, 203, 0.4);
        }
        
        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 60px rgba(106, 17, 203, 0.6);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            animation: shimmer-stat 3s infinite;
        }
        
        @keyframes shimmer-stat {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .stat-card h3 {
            font-size: 3rem;
            margin-bottom: 15px;
            font-weight: 800;
        }
        
        .stat-card p {
            opacity: 0.9;
            font-size: 1.2rem;
        }
        
        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 20px;
            opacity: 0.8;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }
        
        .data-table th {
            background: rgba(106, 17, 203, 0.4);
            padding: 20px;
            text-align: right;
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .light-theme .data-table th {
            background: rgba(106, 17, 203, 0.2);
        }
        
        .data-table td {
            padding: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-theme .data-table td {
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        .data-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .light-theme .data-table tr:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .action-btn {
            padding: 8px 15px;
            margin: 0 5px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .btn-edit {
            background: var(--accent-green);
            color: white;
        }
        
        .btn-edit:hover {
            background: #00a085;
            transform: scale(1.1);
        }
        
        .btn-delete {
            background: var(--accent-red);
            color: white;
        }
        
        .btn-delete:hover {
            background: #d6064a;
            transform: scale(1.1);
        }
        
        .btn-view {
            background: var(--accent-blue);
            color: white;
        }
        
        .btn-view:hover {
            background: #1a6fe0;
            transform: scale(1.1);
        }
        
        /* صفحات اطلاعاتی */
        .info-page {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .info-page h2 {
            color: var(--accent-purple);
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 4px solid var(--accent-purple);
            font-size: 2.5rem;
        }
        
        .info-page h3 {
            color: var(--accent-blue);
            margin: 35px 0 20px;
            font-size: 1.8rem;
        }
        
        .info-page p {
            line-height: 1.9;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .info-page ul, .info-page ol {
            margin-right: 35px;
            margin-bottom: 30px;
        }
        
        .info-page li {
            margin-bottom: 15px;
            line-height: 1.7;
            font-size: 1.1rem;
        }
        
        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .contact-card {
            background: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(106, 17, 203, 0.1);
        }
        
        .contact-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent-purple);
            box-shadow: 0 20px 40px rgba(106, 17, 203, 0.2);
        }
        
        .contact-card i {
            font-size: 3rem;
            color: var(--accent-purple);
            margin-bottom: 20px;
        }
        
        /* فوتر */
        footer {
            background: rgba(0, 0, 0, 0.4);
            padding: 50px 0 30px;
            margin-top: 80px;
            text-align: center;
            border-top: 2px solid rgba(106, 17, 203, 0.3);
            position: relative;
        }
        
        .light-theme footer {
            background: rgba(0, 0, 0, 0.05);
            border-top: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        .dedication {
            font-size: 1.3rem;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            color: var(--text-light);
        }
        
        .light-theme .dedication {
            color: #333;
        }
        
        .heart {
            color: var(--accent-red);
            animation: heartbeat 1.5s infinite;
            font-size: 1.5rem;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.3); }
            10% { transform: scale(1.1); }
            15% { transform: scale(1.4); }
            50% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.1rem;
            padding: 10px 15px;
            border-radius: 10px;
        }
        
        .light-theme .footer-links a {
            color: #333;
        }
        
        .footer-links a:hover {
            color: var(--accent-blue);
            background: rgba(106, 17, 203, 0.1);
            transform: translateY(-3px);
        }
        
        .copyright {
            color: var(--text-gray);
            font-size: 1rem;
            padding-top: 30px;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-theme .copyright {
            border-top: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        /* آواتارهای سیاره‌ای */
        .planet-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            margin-left: 10px;
        }
        
        .planet-avatar.level-1 { background: #00b09b; color: white; }
        .planet-avatar.level-2 { background: #2575fc; color: white; }
        .planet-avatar.level-3 { background: #ff7e5f; color: white; }
        .planet-avatar.level-4 { background: #f80759; color: white; }
        .planet-avatar.level-5 { background: #6a11cb; color: white; }
        
        /* بج‌های موفقیت */
        .achievement-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffd700, #ff9500);
            color: #000;
            font-size: 1.2rem;
            margin: 5px;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
            transition: var(--transition);
        }
        
        .achievement-badge:hover {
            transform: scale(1.2) rotate(15deg);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.6);
        }
        
        .achievement-badge.silver {
            background: linear-gradient(135deg, #c0c0c0, #808080);
        }
        
        .achievement-badge.bronze {
            background: linear-gradient(135deg, #cd7f32, #a0522d);
        }
        
        /* انیمیشن‌های اضافی */
        @keyframes float-up {
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .float-animation {
            animation: float-up 3s infinite ease-in-out;
        }
        
        .spin-animation {
            animation: spin 10s infinite linear;
        }
        
        /* پیشرفت‌های قابل مشاهده */
        .milestone {
            position: relative;
            padding: 15px;
            background: rgba(106, 17, 203, 0.1);
            border-radius: 15px;
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .milestone:hover {
            background: rgba(106, 17, 203, 0.2);
            transform: translateX(10px);
        }
        
        .milestone.unlocked {
            background: rgba(0, 176, 155, 0.2);
            border-right: 5px solid var(--accent-green);
        }
        
        .milestone.locked {
            background: rgba(255, 255, 255, 0.05);
            opacity: 0.7;
        }
        
        .light-theme .milestone.locked {
            background: rgba(0, 0, 0, 0.05);
        }
        
        /* پاپ‌آپ نوتیفیکیشن */
        .notification {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            padding: 20px 25px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            z-index: 2000;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            max-width: 400px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification i {
            font-size: 1.5rem;
            margin-left: 15px;
        }
        
        /* ریسپانسیو */
        @media (max-width: 1200px) {
            .container {
                max-width: 95%;
            }
            
            .grid-layout {
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            }
        }
        
        @media (max-width: 992px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .nav-links {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
                gap: 20px;
            }
            
            .profile-container {
                flex-direction: column;
            }
            
            .chat-container {
                flex-direction: column;
                height: 700px;
            }
            
            .chat-sidebar {
                width: 100%;
                height: 250px;
            }
            
            .welcome-section {
                flex-direction: column;
                text-align: center;
                gap: 30px;
            }
            
            .planet-container {
                width: 300px;
                height: 300px;
            }
            
            .certificate-container {
                padding: 40px;
            }
            
            .certificate-border {
                padding: 35px;
            }
            
            .certificate-title {
                font-size: 3rem;
            }
            
            .certificate-name {
                font-size: 2.5rem;
            }
            
            .dashboard-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .certificate-signature {
                flex-direction: column;
                gap: 40px;
            }
            
            .signature-line {
                width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .auth-box {
                padding: 40px 25px;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .card {
                padding: 25px;
            }
            
            .modal {
                padding: 30px;
            }
            
            .planet-container {
                width: 250px;
                height: 250px;
            }
            
            .certificate-container {
                padding: 30px;
            }
            
            .certificate-title {
                font-size: 2.2rem;
            }
            
            .certificate-name {
                font-size: 2rem;
            }
            
            .dashboard-stats {
                grid-template-columns: 1fr;
            }
            
            .grid-layout {
                grid-template-columns: 1fr;
            }
            
            .welcome-features {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .auth-box {
                padding: 30px 20px;
            }
            
            .card {
                padding: 20px;
            }
            
            .modal {
                padding: 25px 20px;
            }
            
            .planet-container {
                width: 200px;
                height: 200px;
            }
            
            .certificate-container {
                padding: 20px;
            }
            
            .certificate-border {
                padding: 25px;
            }
            
            .certificate-title {
                font-size: 1.8rem;
            }
            
            .certificate-name {
                font-size: 1.6rem;
            }
            
            .btn {
                padding: 12px 24px;
                font-size: 0.95rem;
            }
            
            .data-table {
                display: block;
                overflow-x: auto;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 20px;
            }
            
            .nav-link {
                font-size: 1rem;
            }
            
            .notification {
                max-width: 90%;
                right: 5%;
                bottom: 20px;
            }
        }
        
        /* صفحه‌های اختصاصی مربی و ادمین */
        .coach-panel, .admin-panel {
            min-height: calc(100vh - 200px);
        }
        
        .panel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .panel-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 30px;
            transition: var(--transition);
            border: 2px solid rgba(106, 17, 203, 0.2);
            height: 100%;
        }
        
        .panel-card:hover {
            border-color: var(--accent-purple);
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(106, 17, 203, 0.3);
        }
        
        .panel-card h3 {
            color: var(--accent-purple);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(106, 17, 203, 0.2);
            font-size: 1.5rem;
        }
        
        .panel-card ul {
            list-style: none;
        }
        
        .panel-card li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-theme .panel-card li {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .panel-card li:last-child {
            border-bottom: none;
        }
        
        .panel-card .badge {
            background: var(--accent-blue);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        /* دکمه‌های عملیاتی */
        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        /* فرم‌های مربی و ادمین */
        .panel-form {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        /* جداول پیشرفته */
        .advanced-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }
        
        .advanced-table th {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            padding: 20px;
            text-align: right;
            font-weight: 700;
            position: sticky;
            top: 0;
        }
        
        .advanced-table td {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-theme .advanced-table td {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .advanced-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.02);
        }
        
        .light-theme .advanced-table tr:nth-child(even) {
            background: rgba(0, 0, 0, 0.02);
        }
        
        .advanced-table tr:hover {
            background: rgba(106, 17, 203, 0.1);
        }
        
        /* کارت‌های آماری مربی */
        .coach-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-item {
            background: linear-gradient(135deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1));
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(106, 17, 203, 0.2);
        }
        
        .stat-item h4 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--accent-purple);
        }
        
        .stat-item p {
            color: var(--text-gray);
            font-size: 1.1rem;
        }
        
        /* گالری مربی */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .gallery-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            height: 200px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .gallery-item img, .gallery-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .gallery-item .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            padding: 15px;
            color: white;
            transform: translateY(100%);
            transition: var(--transition);
        }
        
        .gallery-item:hover .overlay {
            transform: translateY(0);
        }
        
        /* سیستم اطلاع‌رسانی */
        .notification-bell {
            position: relative;
            cursor: pointer;
        }
        
        .notification-count {
            position: absolute;
            top: -5px;
            left: -5px;
            background: var(--accent-red);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .notifications-panel {
            position: absolute;
            top: 60px;
            left: 0;
            background: var(--card-bg);
            width: 350px;
            border-radius: var(--border-radius);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            z-index: 1001;
            display: none;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .notifications-panel.show {
            display: block;
        }
        
        .notification-item {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .notification-item:hover {
            background: rgba(106, 17, 203, 0.1);
        }
        
        .notification-item.unread {
            background: rgba(37, 117, 252, 0.1);
        }
        
        .notification-item i {
            color: var(--accent-blue);
            margin-left: 15px;
        }
    </style>
</head>
<body>
    <!-- صفحه ورود/ثبت‌نام جذاب‌تر -->
    <div id="auth-page" class="auth-container">
        <div class="auth-background">
            <div class="floating-planets">
                <div class="floating-planet planet-1"></div>
                <div class="floating-planet planet-2"></div>
                <div class="floating-planet planet-3"></div>
                <div class="floating-planet planet-4"></div>
            </div>
        </div>
        
        <div class="auth-box">
            <div class="logo">
                <i class="fas fa-running"></i>
                <span>Track</span>
            </div>
            
            <div class="auth-form">
                <h2 id="auth-title">ورود به Track</h2>
                
                <div class="form-group">
                    <label for="email">نام کاربری</label>
                    <input type="text" id="email" class="form-control" placeholder="نام کاربری خود را وارد کنید">
                </div>
                
                <div class="form-group">
                    <label for="password">رمز عبور</label>
                    <input type="password" id="password" class="form-control" placeholder="رمز عبور خود را وارد کنید">
                </div>
                
                <div id="signup-fields" class="hidden">
                    <div class="form-group">
                        <label for="username">نام کامل</label>
                        <input type="text" id="username" class="form-control" placeholder="نام کامل خود را وارد کنید">
                    </div>
                    
                    <div class="form-group">
                        <label for="user-email">ایمیل</label>
                        <input type="email" id="user-email" class="form-control" placeholder="ایمیل خود را وارد کنید">
                    </div>
                    
                    <div class="form-group">
                        <label for="confirm-password">تکرار رمز عبور</label>
                        <input type="password" id="confirm-password" class="form-control" placeholder="رمز عبور را تکرار کنید">
                    </div>
                </div>
                
                <div id="auth-message" class="form-group" style="color: var(--accent-red); display: none;"></div>
                
                <button id="auth-button" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i>
                    ورود به حساب کاربری
                </button>
                
                <div class="auth-toggle">
                    <span id="toggle-text">حساب کاربری ندارید؟</span>
                    <a id="toggle-link">ثبت‌نام کنید</a>
                </div>
                
                <div class="sample-accounts-link">
                    <a href="#" id="show-sample-accounts-modal">نمایش حساب‌های نمونه</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- پورتال کاربر عادی -->
    <div id="user-portal" class="hidden">
        <header>
            <div class="container header-content">
                <div class="logo">
                    <i class="fas fa-running"></i>
                    <span>Track</span>
                </div>
                
                <nav class="nav-links">
                    <a href="#" class="nav-link" data-page="user-welcome">خوش آمدید</a>
                    <a href="#" class="nav-link active" data-page="user-dashboard">داشبورد</a>
                    <a href="#" class="nav-link" data-page="user-performance">ثبت عملکرد</a>
                    <a href="#" class="nav-link" data-page="user-events">رویدادها</a>
                    <a href="#" class="nav-link" data-page="user-ranking">رنکینگ</a>
                    <a href="#" class="nav-link" data-page="user-chat">چت</a>
                    <a href="#" class="nav-link" data-page="user-coaches">مربی‌ها</a>
                    <a href="#" class="nav-link" data-page="user-videos">ویدیوها</a>
                    <a href="#" class="nav-link" data-page="user-certificate">گواهی‌ها</a>
                    <a href="#" class="nav-link" data-page="user-profile">پروفایل</a>
                </nav>
                
                <div class="user-info">
                    <button class="theme-toggle" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <div class="user-avatar">
                        <img id="user-avatar-img" src="https://randomuser.me/api/portraits/men/32.jpg" alt="User Avatar">
                        <div class="user-level-badge" id="user-level-badge">1</div>
                    </div>
                    <div>
                        <div id="user-display-name">کاربر</div>
                        <small id="user-role">سطح ۱ - سیاره سبز</small>
                    </div>
                    <button class="btn btn-secondary logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        خروج
                    </button>
                </div>
            </div>
        </header>
        
        <main class="portal-container container">
            <!-- صفحه خوش‌آمدگویی -->
            <div id="user-welcome" class="portal-page">
                <div class="welcome-page">
                    <div class="welcome-card">
                        <div class="welcome-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h1 id="welcome-title">به Track خوش آمدید!</h1>
                        <p id="welcome-text">سلام <span id="welcome-user-name">کاربر عزیز</span>، به جامعه ورزشی Track خوش آمدید. آماده‌اید که سفر خود را به سوی سلامت و تناسب اندام آغاز کنید؟</p>
                        
                        <div class="welcome-features">
                            <div class="welcome-feature">
                                <i class="fas fa-medal"></i>
                                <h3>سیستم گیمیفیکیشن</h3>
                                <p>با انجام تمرینات امتیاز بگیرید و سیاره خود را ارتقا دهید</p>
                            </div>
                            <div class="welcome-feature">
                                <i class="fas fa-users"></i>
                                <h3>جامعه فعال</h3>
                                <p>با سایر کاربران رقابت کنید و از مربیان متخصص راهنمایی بگیرید</p>
                            </div>
                            <div class="welcome-feature">
                                <i class="fas fa-chart-line"></i>
                                <h3>پیگیری پیشرفت</h3>
                                <p>پیشرفت خود را با نمودارهای پیشرفته دنبال کنید</p>
                            </div>
                        </div>
                        
                        <p style="margin: 40px 0; font-size: 1.2rem; color: var(--accent-blue);">
                            <i class="fas fa-info-circle"></i> برای شروع، به داشبورد خود بروید و اولین فعالیت ورزشی خود را ثبت کنید.
                        </p>
                        
                        <button class="btn btn-primary" id="go-to-dashboard-btn" style="padding: 18px 50px; font-size: 1.3rem;">
                            <i class="fas fa-rocket"></i> شروع سفر در Track
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- داشبورد کاربر -->
            <div id="user-dashboard" class="portal-page hidden">
                <div class="welcome-section">
                    <div>
                        <h1 id="welcome-message">سلام، <span id="dashboard-user-name">کاربر</span>!</h1>
                        <p>امروز یک روز عالی برای ورزش کردن است!</p>
                        <div style="margin-top: 20px;">
                            <span class="achievement-badge" title="عضویت در Track"><i class="fas fa-user-plus"></i></span>
                            <span class="achievement-badge bronze" title="اولین تمرین"><i class="fas fa-dumbbell"></i></span>
                            <span class="achievement-badge silver" title="۱۰ روز پیوسته"><i class="fas fa-calendar-check"></i></span>
                        </div>
                    </div>
                    <div class="planet-section">
                        <div class="planet-container">
                            <div class="planet planet-level-1" id="user-planet"></div>
                            <div class="planet-ring ring-1"></div>
                            <div class="planet-ring ring-2"></div>
                            <div class="planet-ring ring-3"></div>
                        </div>
                        <div class="level-info">
                            <div class="level-title" id="planet-title">سیاره سبز (سطح ۱)</div>
                            <p id="progress-text">برای رسیدن به سطح بعدی ۱۰۰ امتیاز دیگر نیاز داری</p>
                            <div class="progress-container">
                                <div class="progress-bar" id="user-progress-bar"></div>
                                <div class="progress-stars">
                                    <div class="progress-star active"></div>
                                    <div class="progress-star"></div>
                                    <div class="progress-star"></div>
                                    <div class="progress-star"></div>
                                    <div class="progress-star"></div>
                                </div>
                            </div>
                            <div id="score-text">امتیاز شما: ۰ از ۵۰۰</div>
                        </div>
                    </div>
                </div>
                
                <div class="daily-quote">
                    <i class="fas fa-quote-right"></i>
                    <div class="quote-text" id="quote-text">موفقیت یک شبه به دست نمی‌آید، حاصل تلاش‌های مستمر روزانه است. امروز قدمی بردار!</div>
                    <div class="quote-author">جمله روز Track</div>
                </div>
                
                <div class="grid-layout">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">تقویم تمرینات</h3>
                            <i class="fas fa-calendar-alt" style="color: var(--accent-blue); font-size: 1.8rem;"></i>
                        </div>
                        <div class="calendar">
                            <div class="calendar-header">ش</div>
                            <div class="calendar-header">ی</div>
                            <div class="calendar-header">د</div>
                            <div class="calendar-header">س</div>
                            <div class="calendar-header">چ</div>
                            <div class="calendar-header">پ</div>
                            <div class="calendar-header">ج</div>
                            
                            <!-- روزهای تقویم - آبان 1404 -->
                            <div class="calendar-day">26</div>
                            <div class="calendar-day">27</div>
                            <div class="calendar-day">28</div>
                            <div class="calendar-day">29</div>
                            <div class="calendar-day">30</div>
                            <div class="calendar-day event">1</div>
                            <div class="calendar-day active">2</div>
                            <div class="calendar-day">3</div>
                            <div class="calendar-day">4</div>
                            <div class="calendar-day event">5</div>
                            <div class="calendar-day">6</div>
                            <div class="calendar-day">7</div>
                            <div class="calendar-day event">8</div>
                            <div class="calendar-day">9</div>
                            <div class="calendar-day">10</div>
                            <div class="calendar-day">11</div>
                            <div class="calendar-day event">12</div>
                            <div class="calendar-day">13</div>
                            <div class="calendar-day">14</div>
                            <div class="calendar-day event">15</div>
                            <div class="calendar-day">16</div>
                            <div class="calendar-day">17</div>
                            <div class="calendar-day">18</div>
                            <div class="calendar-day event">19</div>
                            <div class="calendar-day">20</div>
                            <div class="calendar-day">21</div>
                            <div class="calendar-day">22</div>
                            <div class="calendar-day event">23</div>
                            <div class="calendar-day">24</div>
                            <div class="calendar-day">25</div>
                            <div class="calendar-day">26</div>
                            <div class="calendar-day">27</div>
                            <div class="calendar-day event">28</div>
                            <div class="calendar-day">29</div>
                            <div class="calendar-day">30</div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">نمودار تمرین هفتگی</h3>
                            <i class="fas fa-chart-line" style="color: var(--accent-green); font-size: 1.8rem;"></i>
                        </div>
                        <div class="chart-container">
                            <canvas id="weeklyChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">نمودار تمرین ماهانه</h3>
                            <i class="fas fa-chart-bar" style="color: var(--accent-orange); font-size: 1.8rem;"></i>
                        </div>
                        <div class="chart-container">
                            <canvas id="monthlyChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">نمودار تمرین روزانه</h3>
                            <i class="fas fa-chart-pie" style="color: var(--accent-purple); font-size: 1.8rem;"></i>
                        </div>
                        <div class="chart-container">
                            <canvas id="dailyChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">میل‌استون‌های بعدی</h3>
                        <i class="fas fa-flag-checkered" style="color: var(--accent-red); font-size: 1.8rem;"></i>
                    </div>
                    <div class="milestones">
                        <div class="milestone unlocked">
                            <i class="fas fa-check-circle" style="color: var(--accent-green); margin-left: 10px;"></i>
                            <span>عضویت در Track</span>
                            <span style="color: var(--accent-green);">+۱۰ امتیاز</span>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-dumbbell" style="color: var(--accent-blue); margin-left: 10px;"></i>
                            <span>اولین تمرین ثبت شده</span>
                            <span style="color: var(--accent-blue);">+۵۰ امتیاز</span>
                        </div>
                        <div class="milestone locked">
                            <i class="fas fa-fire" style="color: var(--accent-orange); margin-left: 10px;"></i>
                            <span>۳ روز تمرین پیوسته</span>
                            <span style="color: var(--accent-orange);">+۱۰۰ امتیاز</span>
                        </div>
                        <div class="milestone locked">
                            <i class="fas fa-trophy" style="color: var(--accent-gold); margin-left: 10px;"></i>
                            <span>رسیدن به سطح ۲</span>
                            <span style="color: var(--accent-gold);">سیاره آبی</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">رویدادهای پیش‌رو</h3>
                        <i class="fas fa-dumbbell" style="color: var(--accent-red); font-size: 1.8rem;"></i>
                    </div>
                    <div class="events-grid" id="user-events-grid">
                        <!-- رویدادها توسط جاوااسکریپت لود می‌شوند -->
                    </div>
                </div>
            </div>
            
            <!-- ثبت عملکرد روزانه -->
            <div id="user-performance" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ثبت عملکرد روزانه</h3>
                        <i class="fas fa-clipboard-check" style="color: var(--accent-green); font-size: 1.8rem;"></i>
                    </div>
                    <div class="performance-form">
                        <div class="form-group">
                            <label for="performance-date">تاریخ امروز</label>
                            <input type="text" id="performance-date" class="form-control" value="۲ آبان ۱۴۰۴" readonly>
                        </div>
                        
                        <div class="form-group">
                            <label for="activity-type">نوع فعالیت</label>
                            <select id="activity-type" class="form-control">
                                <option value="">نوع فعالیت را انتخاب کنید</option>
                                <option value="running">دویدن</option>
                                <option value="weightlifting">بدنسازی</option>
                                <option value="yoga">یوگا</option>
                                <option value="swimming">شنا</option>
                                <option value="cycling">دوچرخه‌سواری</option>
                                <option value="other">سایر</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="duration">مدت زمان (دقیقه)</label>
                            <input type="number" id="duration" class="form-control" placeholder="مدت زمان فعالیت را وارد کنید">
                        </div>
                        
                        <div class="form-group">
                            <label for="description">توضیحات فعالیت</label>
                            <textarea id="description" class="form-control" rows="4" placeholder="جزئیات فعالیت خود را بنویسید..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>آپلود مستندات فعالیت (اختیاری)</label>
                            <p style="color: var(--text-gray); margin-bottom: 20px; font-size: 1.1rem;">می‌توانید عکس، ویدیو یا فایل متنی از فعالیت خود آپلود کنید. پس از تایید، فعالیت برای شما ثبت می‌شود.</p>
                            
                            <div class="upload-area" id="upload-area">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h4>فایل‌های خود را اینجا رها کنید یا برای آپلود کلیک کنید</h4>
                                <p>پسوندهای مجاز: JPG, PNG, MP4, PDF, TXT (حداکثر ۱۰ مگابایت)</p>
                                <input type="file" id="file-input" multiple accept=".jpg,.jpeg,.png,.mp4,.pdf,.txt" class="hidden">
                            </div>
                            
                            <div class="upload-preview" id="upload-preview">
                                <!-- پیش‌نمایش فایل‌های آپلود شده -->
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 40px;">
                            <button class="btn btn-primary" id="submit-performance" style="padding: 18px 50px; font-size: 1.2rem;">
                                <i class="fas fa-paper-plane"></i> ارسال برای تایید
                            </button>
                            <p style="margin-top: 20px; color: var(--accent-blue); font-size: 1.1rem;">
                                <i class="fas fa-info-circle"></i> پس از تایید توسط مربی، امتیاز فعالیت به حساب شما اضافه خواهد شد.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 40px;">
                    <div class="card-header">
                        <h3 class="card-title">تاریخچه عملکردهای ثبت شده</h3>
                        <i class="fas fa-history" style="color: var(--accent-orange); font-size: 1.8rem;"></i>
                    </div>
                    <div class="chart-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>تاریخ</th>
                                    <th>نوع فعالیت</th>
                                    <th>مدت زمان</th>
                                    <th>وضعیت</th>
                                    <th>امتیاز</th>
                                </tr>
                            </thead>
                            <tbody id="performance-history">
                                <!-- تاریخچه عملکردها -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- رویدادهای کاربر -->
            <div id="user-events" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">همه رویدادها</h3>
                        <i class="fas fa-calendar-check" style="color: var(--accent-blue); font-size: 1.8rem;"></i>
                    </div>
                    <div class="events-grid" id="all-events-grid">
                        <!-- رویدادهای بیشتر -->
                    </div>
                </div>
            </div>
            
            <!-- رنکینگ -->
            <div id="user-ranking" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">رنکینگ کاربران</h3>
                        <i class="fas fa-trophy" style="color: gold; font-size: 1.8rem;"></i>
                    </div>
                    <ul class="ranking-list" id="ranking-list">
                        <!-- آیتم‌های رنکینگ -->
                    </ul>
                </div>
            </div>
            
            <!-- چت -->
            <div id="user-chat" class="portal-page hidden">
                <div class="chat-container">
                    <div class="chat-sidebar">
                        <h4 style="margin-bottom: 25px; color: var(--accent-purple);">گفتگوها</h4>
                        <div class="chat-contact active" data-contact="coach" style="padding: 15px; border-radius: 12px; background: rgba(106, 17, 203, 0.2); margin-bottom: 15px; cursor: pointer; transition: var(--transition);">
                            <i class="fas fa-user-tie"></i> مربی شخصی
                            <span style="float: left; background: var(--accent-green); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem;">3</span>
                        </div>
                        <div class="chat-contact" data-contact="public" style="padding: 15px; border-radius: 12px; background: rgba(255, 255, 255, 0.05); margin-bottom: 15px; cursor: pointer; transition: var(--transition);">
                            <i class="fas fa-users"></i> چت عمومی
                        </div>
                        <div class="chat-contact" data-contact="friend1" style="padding: 15px; border-radius: 12px; background: rgba(255, 255, 255, 0.05); cursor: pointer; transition: var(--transition);">
                            <i class="fas fa-user-friends"></i> دوست
                        </div>
                    </div>
                    <div class="chat-main">
                        <div class="chat-header">
                            <h4>مربی شخصی</h4>
                            <small style="color: var(--accent-green);">آنلاین</small>
                        </div>
                        <div class="chat-messages" id="chat-messages">
                            <!-- پیام‌ها -->
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chat-input" placeholder="پیام خود را بنویسید...">
                            <button class="btn btn-primary" id="send-message"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- مربی‌ها -->
            <div id="user-coaches" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مربیان منتخب</h3>
                        <i class="fas fa-user-tie" style="color: var(--accent-purple); font-size: 1.8rem;"></i>
                    </div>
                    <div class="coaches-grid" id="coaches-grid">
                        <!-- مربی‌ها -->
                    </div>
                    <div style="margin-top: 40px; padding: 30px; background: rgba(0, 176, 155, 0.15); border-radius: 20px; border: 2px solid rgba(0, 176, 155, 0.3);">
                        <h4><i class="fas fa-credit-card"></i> روش پرداخت</h4>
                        <p style="font-size: 1.2rem; margin: 15px 0;">برای پرداخت هزینه جلسات مربی‌گری می‌توانید از <strong>اسنپ‌پی</strong> استفاده کنید.</p>
                        <button class="btn btn-primary" style="margin-top: 20px; padding: 15px 40px;">
                            <i class="fas fa-mobile-alt"></i> پرداخت با اسنپ‌پی
                        </button>
                        <p style="margin-top: 15px; font-size: 0.95rem; color: var(--text-gray);">
                            <i class="fas fa-shield-alt"></i> پرداخت امن با درگاه بانکی
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- ویدیوهای آموزشی -->
            <div id="user-videos" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ویدیوهای آموزشی</h3>
                        <i class="fas fa-video" style="color: var(--accent-red); font-size: 1.8rem;"></i>
                    </div>
                    <div class="events-grid" id="videos-grid">
                        <!-- ویدیوها -->
                    </div>
                </div>
            </div>
            
            <!-- گواهی‌ها -->
            <div id="user-certificate" class="portal-page hidden">
                <div class="certificate-container">
                    <div class="certificate-watermark">TRACK</div>
                    <div class="certificate-border">
                        <img src="https://cdn-icons-png.flaticon.com/512/2173/2173475.png" alt="Logo" class="certificate-logo">
                        <img src="https://cdn-icons-png.flaticon.com/512/1570/1570154.png" alt="Seal" class="certificate-seal">
                        <img src="https://cdn-icons-png.flaticon.com/512/3428/3428642.png" alt="Stamp" class="certificate-stamp">
                        <h1 class="certificate-title">TRACK COLLEGE</h1>
                        <h2 class="certificate-subtitle">گواهی موفقیت و تقدیر</h2>
                        <p style="font-size: 1.3rem; margin-bottom: 20px;">این گواهی به رسم تقدیر از تلاش‌های مستمر و موفقیت‌های چشمگیر اعطا می‌گردد به</p>
                        <div class="certificate-name" id="certificate-name">کاربر</div>
                        <p class="certificate-details">
                            برای تکمیل موفقیت‌آمیز دوره<br>
                            <strong id="certificate-course">"برنامه ورزشی پیشرفته با سیستم گیمیفیکیشن"</strong><br>
                            با نمره <span id="certificate-score">عالی</span> و رعایت کامل اصول ورزشی
                        </p>
                        <div class="certificate-signature">
                            <div class="signature-line">
                                <p>امضا و مهر</p>
                                <p>تیم out of box</p>
                            </div>
                            <div class="signature-line">
                                <p>تاریخ صدور</p>
                                <p id="certificate-date">آبان ماه ۱۴۰۴</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- پروفایل کاربر -->
            <div id="user-profile" class="portal-page hidden">
                <div class="profile-container">
                    <div class="profile-sidebar">
                        <div class="card profile-card">
                            <div class="profile-avatar">
                                <img id="profile-avatar-img" src="https://randomuser.me/api/portraits/men/32.jpg" alt="User Avatar">
                            </div>
                            <h3 id="profile-name">کاربر</h3>
                            <p id="profile-level">کاربر سطح ۱ - سیاره سبز</p>
                            <p id="profile-join-date">عضویت از: آبان ۱۴۰۴</p>
                            <div class="avatar-upload">
                                <input type="file" id="avatar-upload" accept="image/*" class="hidden">
                                <button class="btn btn-secondary" onclick="document.getElementById('avatar-upload').click()" style="margin-top: 20px;">
                                    <i class="fas fa-camera"></i> تغییر عکس پروفایل
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-main">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">اطلاعات حساب کاربری</h3>
                                <i class="fas fa-user-cog" style="color: var(--accent-blue); font-size: 1.8rem;"></i>
                            </div>
                            <div class="form-group">
                                <label for="profile-username">نام کاربری</label>
                                <input type="text" id="profile-username" class="form-control" value="user">
                            </div>
                            <div class="form-group">
                                <label for="profile-email">ایمیل</label>
                                <input type="email" id="profile-email" class="form-control" value="user@example.com">
                            </div>
                            <div class="form-group">
                                <label for="profile-password">رمز عبور جدید</label>
                                <input type="password" id="profile-password" class="form-control" placeholder="رمز عبور جدید را وارد کنید">
                            </div>
                            <div class="form-group">
                                <label for="profile-confirm-password">تکرار رمز عبور جدید</label>
                                <input type="password" id="profile-confirm-password" class="form-control" placeholder="رمز عبور جدید را تکرار کنید">
                            </div>
                            <button class="btn btn-primary" id="save-profile" style="margin-top: 20px;">
                                <i class="fas fa-save"></i> ذخیره تغییرات
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <div class="container">
                <div class="dedication">
                    <i class="fas fa-heart heart"></i>
                    <span>تقدیم به تمام مردم ایران، مخصوصاً توانیابان عزیز</span>
                    <i class="fas fa-heart heart"></i>
                </div>
                <div class="footer-links">
                    <a href="#" class="nav-link" data-page="user-about">درباره ما</a>
                    <a href="#" class="nav-link" data-page="user-contact">تماس با ما</a>
                    <a href="#" class="nav-link" data-page="user-terms">قوانین و مقررات</a>
                    <a href="#" class="nav-link" data-page="user-privacy">حریم خصوصی</a>
                    <a href="#" class="nav-link" data-page="user-faq">سوالات متداول</a>
                </div>
                <div class="copyright">
                    © ۱۴۰۴ - تمامی حقوق برای Track محفوظ است | نسخه ۲.۰ | تیم out of box
                </div>
            </div>
        </footer>
    </div>
    
    <!-- پورتال مربی کاملاً تکمیل شده -->
    <div id="coach-portal" class="hidden">
        <header>
            <div class="container header-content">
                <div class="logo">
                    <i class="fas fa-running"></i>
                    <span>Track - پنل مربی</span>
                </div>
                
                <nav class="nav-links">
                    <a href="#" class="nav-link active" data-page="coach-dashboard">داشبورد مربی</a>
                    <a href="#" class="nav-link" data-page="coach-students">شاگردان</a>
                    <a href="#" class="nav-link" data-page="coach-chat">چت</a>
                    <a href="#" class="nav-link" data-page="coach-content">محتوا</a>
                    <a href="#" class="nav-link" data-page="coach-events">رویدادها</a>
                    <a href="#" class="nav-link" data-page="coach-finance">مالی</a>
                    <a href="#" class="nav-link" data-page="coach-profile">پروفایل</a>
                </nav>
                
                <div class="user-info">
                    <button class="theme-toggle" id="coach-theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <div class="user-avatar">
                        <img id="coach-avatar-img" src="https://randomuser.me/api/portraits/men/75.jpg" alt="Coach Avatar">
                        <div class="user-level-badge">★</div>
                    </div>
                    <div>
                        <div id="coach-display-name">مربی</div>
                        <small id="coach-specialty">مربی بدنسازی</small>
                    </div>
                    <button class="btn btn-secondary logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        خروج
                    </button>
                </div>
            </div>
        </header>
        
        <main class="portal-container container coach-panel">
            <!-- داشبورد مربی -->
            <div id="coach-dashboard" class="portal-page">
                <div class="welcome-section">
                    <div>
                        <h1>سلام، مربی محترم!</h1>
                        <p>امروز می‌توانید به شاگردان خود کمک کنید تا به اهدافشان برسند.</p>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(0, 176, 155, 0.2), rgba(37, 117, 252, 0.2)); padding: 25px; border-radius: 20px; border: 2px solid rgba(0, 176, 155, 0.3);">
                        <h3><i class="fas fa-wallet"></i> درآمد ماه جاری</h3>
                        <p style="font-size: 2.5rem; color: var(--accent-green); font-weight: 800;">۱۲,۵۰۰,۰۰۰ تومان</p>
                    </div>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3 id="coach-students-count">۱۲</h3>
                        <p>تعداد شاگردان</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-star"></i>
                        <h3>۴.۸</h3>
                        <p>میانگین امتیاز</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <h3>۱۵</h3>
                        <p>جلسات این ماه</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-heart"></i>
                        <h3>۹۸٪</h3>
                        <p>رضایت‌مندی</p>
                    </div>
                </div>
                
                <div class="grid-layout">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">شاگردان اخیر</h3>
                            <i class="fas fa-users" style="color: var(--accent-blue);"></i>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>نام</th>
                                    <th>سطح</th>
                                    <th>آخرین جلسه</th>
                                    <th>عملکرد</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>حمید حسینی</td>
                                    <td><span class="planet-avatar level-3">۳</span></td>
                                    <td>۲ آبان</td>
                                    <td><span style="color: var(--accent-green);">عالی</span></td>
                                </tr>
                                <tr>
                                    <td>فاطمه محمدی</td>
                                    <td><span class="planet-avatar level-2">۲</span></td>
                                    <td>۱ آبان</td>
                                    <td><span style="color: var(--accent-blue);">خوب</span></td>
                                </tr>
                                <tr>
                                    <td>علی رضایی</td>
                                    <td><span class="planet-avatar level-4">۴</span></td>
                                    <td>۳۰ مهر</td>
                                    <td><span style="color: var(--accent-green);">عالی</span></td>
                                </tr>
                                <tr>
                                    <td>زهرا کریمی</td>
                                    <td><span class="planet-avatar level-1">۱</span></td>
                                    <td>۲۹ مهر</td>
                                    <td><span style="color: var(--accent-orange);">متوسط</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">رویدادهای پیش‌رو</h3>
                            <i class="fas fa-calendar" style="color: var(--accent-orange);"></i>
                        </div>
                        <div style="padding: 10px 0;">
                            <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 2px solid rgba(255,255,255,0.1); align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">دوی نیمه ماراتن</div>
                                    <small style="color: var(--text-gray);">پارک لاله</small>
                                </div>
                                <div style="color: var(--accent-blue); font-weight: 600;">۱۵ آبان</div>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 2px solid rgba(255,255,255,0.1); align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">کارگاه بدنسازی</div>
                                    <small style="color: var(--text-gray);">سالن آزادی</small>
                                </div>
                                <div style="color: var(--accent-blue); font-weight: 600;">۲۰ آبان</div>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 15px 0; align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">جلسه یوگا درمانی</div>
                                    <small style="color: var(--text-gray);">کلینیک سلامت</small>
                                </div>
                                <div style="color: var(--accent-blue); font-weight: 600;">۲۵ آبان</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 40px;">
                    <div class="card-header">
                        <h3 class="card-title">عملکردهای در انتظار تایید</h3>
                        <i class="fas fa-clock" style="color: var(--accent-orange);"></i>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>شاگرد</th>
                                <th>نوع فعالیت</th>
                                <th>مدت زمان</th>
                                <th>تاریخ</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="coach-pending-activities">
                            <tr>
                                <td>حمید حسینی</td>
                                <td>دویدن</td>
                                <td>۴۵ دقیقه</td>
                                <td>۱ آبان</td>
                                <td>
                                    <button class="action-btn btn-edit">تایید</button>
                                    <button class="action-btn btn-delete">رد</button>
                                </td>
                            </tr>
                            <tr>
                                <td>فاطمه محمدی</td>
                                <td>یوگا</td>
                                <td>۶۰ دقیقه</td>
                                <td>۱ آبان</td>
                                <td>
                                    <button class="action-btn btn-edit">تایید</button>
                                    <button class="action-btn btn-delete">رد</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- شاگردان مربی -->
            <div id="coach-students" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت شاگردان</h3>
                        <i class="fas fa-user-graduate" style="color: var(--accent-blue);"></i>
                    </div>
                    <div class="coach-stats">
                        <div class="stat-item">
                            <h4>۱۲</h4>
                            <p>شاگرد فعال</p>
                        </div>
                        <div class="stat-item">
                            <h4>۳</h4>
                            <p>شاگرد جدید این ماه</p>
                        </div>
                        <div class="stat-item">
                            <h4>۸۵٪</h4>
                            <p>میانگین پیشرفت</p>
                        </div>
                        <div class="stat-item">
                            <h4>۴.۷</h4>
                            <p>میانگین امتیاز</p>
                        </div>
                    </div>
                    
                    <table class="advanced-table">
                        <thead>
                            <tr>
                                <th>نام شاگرد</th>
                                <th>سطح</th>
                                <th>تاریخ عضویت</th>
                                <th>آخرین تمرین</th>
                                <th>پیشرفت</th>
                                <th>امتیاز</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">حمید حسینی</div>
                                            <small style="color: var(--text-gray);">hamid@email.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="planet-avatar level-3">۳</span></td>
                                <td>۱۵ مهر ۱۴۰۴</td>
                                <td>۲ آبان</td>
                                <td>
                                    <div style="background: rgba(255,255,255,0.1); height: 10px; border-radius: 5px; overflow: hidden;">
                                        <div style="background: linear-gradient(90deg, #00b09b, #2575fc); height: 100%; width: 75%;"></div>
                                    </div>
                                    <small>۷۵٪</small>
                                </td>
                                <td><span style="color: var(--accent-gold); font-weight: 600;">۴.۹</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">پیام</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">فاطمه محمدی</div>
                                            <small style="color: var(--text-gray);">fatemeh@email.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="planet-avatar level-2">۲</span></td>
                                <td>۲۰ مهر ۱۴۰۴</td>
                                <td>۱ آبان</td>
                                <td>
                                    <div style="background: rgba(255,255,255,0.1); height: 10px; border-radius: 5px; overflow: hidden;">
                                        <div style="background: linear-gradient(90deg, #00b09b, #2575fc); height: 100%; width: 60%;"></div>
                                    </div>
                                    <small>۶۰٪</small>
                                </td>
                                <td><span style="color: var(--accent-gold); font-weight: 600;">۴.۵</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">پیام</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">علی رضایی</div>
                                            <small style="color: var(--text-gray);">ali@email.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="planet-avatar level-4">۴</span></td>
                                <td>۵ مهر ۱۴۰۴</td>
                                <td>۳۰ مهر</td>
                                <td>
                                    <div style="background: rgba(255,255,255,0.1); height: 10px; border-radius: 5px; overflow: hidden;">
                                        <div style="background: linear-gradient(90deg, #00b09b, #2575fc); height: 100%; width: 90%;"></div>
                                    </div>
                                    <small>۹۰٪</small>
                                </td>
                                <td><span style="color: var(--accent-gold); font-weight: 600;">۵.۰</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">پیام</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- چت مربی -->
            <div id="coach-chat" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">پیام‌ها و گفتگوها</h3>
                        <i class="fas fa-comments" style="color: var(--accent-green);"></i>
                    </div>
                    <div class="chat-container">
                        <div class="chat-sidebar">
                            <h4 style="margin-bottom: 25px; color: var(--accent-purple);">گفتگوها</h4>
                            <div class="chat-contact active" data-contact="student1" style="padding: 15px; border-radius: 12px; background: rgba(106, 17, 203, 0.2); margin-bottom: 15px; cursor: pointer; transition: var(--transition);">
                                <i class="fas fa-user"></i> حمید حسینی
                                <span style="float: left; background: var(--accent-green); color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem;">۳</span>
                            </div>
                            <div class="chat-contact" data-contact="student2" style="padding: 15px; border-radius: 12px; background: rgba(255, 255, 255, 0.05); margin-bottom: 15px; cursor: pointer; transition: var(--transition);">
                                <i class="fas fa-user"></i> فاطمه محمدی
                            </div>
                            <div class="chat-contact" data-contact="public" style="padding: 15px; border-radius: 12px; background: rgba(255, 255, 255, 0.05); margin-bottom: 15px; cursor: pointer; transition: var(--transition);">
                                <i class="fas fa-users"></i> چت عمومی
                            </div>
                            <div class="chat-contact" data-contact="coaches" style="padding: 15px; border-radius: 12px; background: rgba(255, 255, 255, 0.05); cursor: pointer; transition: var(--transition);">
                                <i class="fas fa-user-tie"></i> مربیان
                            </div>
                        </div>
                        <div class="chat-main">
                            <div class="chat-header">
                                <h4>حمید حسینی</h4>
                                <small style="color: var(--accent-green);">آنلاین</small>
                            </div>
                            <div class="chat-messages" id="coach-chat-messages">
                                <!-- پیام‌های مربی -->
                            </div>
                            <div class="chat-input">
                                <input type="text" id="coach-chat-input" placeholder="پیام خود را بنویسید...">
                                <button class="btn btn-primary" id="coach-send-message"><i class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- محتوای مربی -->
            <div id="coach-content" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت محتوای آموزشی</h3>
                        <i class="fas fa-video" style="color: var(--accent-red);"></i>
                    </div>
                    
                    <div class="panel-grid">
                        <div class="panel-card">
                            <h3>آپلود محتوای جدید</h3>
                            <div class="upload-area" id="coach-upload-area" style="margin-top: 20px;">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h4>فایل‌های آموزشی خود را آپلود کنید</h4>
                                <p>ویدیوها، تصاویر و فایل‌های PDF</p>
                                <input type="file" id="coach-file-input" multiple accept=".jpg,.jpeg,.png,.mp4,.pdf" class="hidden">
                            </div>
                            <div class="form-group" style="margin-top: 20px;">
                                <label for="content-title">عنوان محتوا</label>
                                <input type="text" id="content-title" class="form-control" placeholder="عنوان محتوای آموزشی">
                            </div>
                            <div class="form-group">
                                <label for="content-description">توضیحات</label>
                                <textarea id="content-description" class="form-control" rows="3" placeholder="توضیحات درباره محتوا"></textarea>
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-upload"></i> آپلود محتوا
                            </button>
                        </div>
                        
                        <div class="panel-card">
                            <h3>آخرین محتواها</h3>
                            <ul>
                                <li>
                                    <span>تمرینات بدنسازی پیشرفته</span>
                                    <span class="badge">ویدیو</span>
                                </li>
                                <li>
                                    <span>نکات تغذیه ورزشی</span>
                                    <span class="badge">PDF</span>
                                </li>
                                <li>
                                    <span>حرکات کششی صبحگاهی</span>
                                    <span class="badge">ویدیو</span>
                                </li>
                                <li>
                                    <span>برنامه تمرینی هفتگی</span>
                                    <span class="badge">تصویر</span>
                                </li>
                            </ul>
                            <button class="btn btn-secondary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-eye"></i> مشاهده همه
                            </button>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 40px;">
                        <div class="card-header">
                            <h3 class="card-title">گالری محتوای آموزشی</h3>
                            <i class="fas fa-images" style="color: var(--accent-purple);"></i>
                        </div>
                        <div class="gallery-grid">
                            <div class="gallery-item">
                                <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Training">
                                <div class="overlay">
                                    <div style="font-weight: 600;">تمرینات دوی استقامت</div>
                                    <small>۱۵ آبان ۱۴۰۴</small>
                                </div>
                            </div>
                            <div class="gallery-item">
                                <img src="https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Weightlifting">
                                <div class="overlay">
                                    <div style="font-weight: 600;">بدنسازی پیشرفته</div>
                                    <small>۱۰ آبان ۱۴۰۴</small>
                                </div>
                            </div>
                            <div class="gallery-item">
                                <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Yoga">
                                <div class="overlay">
                                    <div style="font-weight: 600;">یوگا درمانی</div>
                                    <small>۵ آبان ۱۴۰۴</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- رویدادهای مربی -->
            <div id="coach-events" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت رویدادها</h3>
                        <i class="fas fa-calendar-plus" style="color: var(--accent-orange);"></i>
                    </div>
                    
                    <div class="panel-grid">
                        <div class="panel-card">
                            <h3>ایجاد رویداد جدید</h3>
                            <div class="form-group" style="margin-top: 20px;">
                                <label for="event-title">عنوان رویداد</label>
                                <input type="text" id="event-title" class="form-control" placeholder="عنوان رویداد">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="event-date">تاریخ</label>
                                    <input type="text" id="event-date" class="form-control" placeholder="تاریخ رویداد">
                                </div>
                                <div class="form-group">
                                    <label for="event-time">ساعت</label>
                                    <input type="text" id="event-time" class="form-control" placeholder="ساعت رویداد">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="event-location">مکان</label>
                                <input type="text" id="event-location" class="form-control" placeholder="مکان برگزاری">
                            </div>
                            <div class="form-group">
                                <label for="event-description">توضیحات</label>
                                <textarea id="event-description" class="form-control" rows="3" placeholder="توضیحات رویداد"></textarea>
                            </div>
                            <button class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-plus"></i> ایجاد رویداد
                            </button>
                        </div>
                        
                        <div class="panel-card">
                            <h3>رویدادهای پیش‌رو</h3>
                            <ul>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">دوی نیمه ماراتن</div>
                                        <small style="color: var(--text-gray);">۱۵ آبان - پارک لاله</small>
                                    </div>
                                    <span class="badge" style="background: var(--accent-green);">۴۵ ثبت‌نام</span>
                                </li>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">کارگاه بدنسازی</div>
                                        <small style="color: var(--text-gray);">۲۰ آبان - سالن آزادی</small>
                                    </div>
                                    <span class="badge" style="background: var(--accent-blue);">۲۳ ثبت‌نام</span>
                                </li>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">یوگا در طبیعت</div>
                                        <small style="color: var(--text-gray);">۲۵ آبان - پارک جمشیدیه</small>
                                    </div>
                                    <span class="badge" style="background: var(--accent-orange);">۱۸ ثبت‌نام</span>
                                </li>
                            </ul>
                            <button class="btn btn-secondary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-calendar-alt"></i> مشاهده همه
                            </button>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 40px;">
                        <div class="card-header">
                            <h3 class="card-title">شرکت‌کنندگان رویدادها</h3>
                            <i class="fas fa-users" style="color: var(--accent-blue);"></i>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>رویداد</th>
                                    <th>تاریخ</th>
                                    <th>شرکت‌کنندگان</th>
                                    <th>وضعیت</th>
                                    <th>عملیات</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>دوی نیمه ماراتن</td>
                                    <td>۱۵ آبان ۱۴۰۴</td>
                                    <td>۴۵ نفر</td>
                                    <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                    <td>
                                        <button class="action-btn btn-view">مشاهده</button>
                                        <button class="action-btn btn-edit">ویرایش</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>کارگاه بدنسازی</td>
                                    <td>۲۰ آبان ۱۴۰۴</td>
                                    <td>۲۳ نفر</td>
                                    <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                    <td>
                                        <button class="action-btn btn-view">مشاهده</button>
                                        <button class="action-btn btn-edit">ویرایش</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- مالی مربی -->
            <div id="coach-finance" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">گزارشات مالی</h3>
                        <i class="fas fa-chart-line" style="color: var(--accent-green);"></i>
                    </div>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <i class="fas fa-wallet"></i>
                            <h3>۱۲.۵M</h3>
                            <p>درآمد ماه جاری</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-money-check-alt"></i>
                            <h3>۱۵.۲M</h3>
                            <p>درآمد ماه گذشته</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-calendar"></i>
                            <h3>۱۰۸M</h3>
                            <p>درآمد سالانه</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-arrow-up"></i>
                            <h3>+۱۸٪</h3>
                            <p>رشد نسبت به ماه قبل</p>
                        </div>
                    </div>
                    
                    <div class="grid-layout">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">تراکنش‌های اخیر</h3>
                                <i class="fas fa-exchange-alt" style="color: var(--accent-blue);"></i>
                            </div>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>تاریخ</th>
                                        <th>شاگرد</th>
                                        <th>مبلغ</th>
                                        <th>وضعیت</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>۲ آبان</td>
                                        <td>حمید حسینی</td>
                                        <td style="color: var(--accent-green);">۱,۵۰۰,۰۰۰ تومان</td>
                                        <td><span style="color: var(--accent-green);">موفق</span></td>
                                    </tr>
                                    <tr>
                                        <td>۱ آبان</td>
                                        <td>فاطمه محمدی</td>
                                        <td style="color: var(--accent-green);">۱,۲۰۰,۰۰۰ تومان</td>
                                        <td><span style="color: var(--accent-green);">موفق</span></td>
                                    </tr>
                                    <tr>
                                        <td>۳۰ مهر</td>
                                        <td>علی رضایی</td>
                                        <td style="color: var(--accent-green);">۲,۰۰۰,۰۰۰ تومان</td>
                                        <td><span style="color: var(--accent-green);">موفق</span></td>
                                    </tr>
                                    <tr>
                                        <td>۲۹ مهر</td>
                                        <td>زهرا کریمی</td>
                                        <td style="color: var(--accent-orange);">۸۰۰,۰۰۰ تومان</td>
                                        <td><span style="color: var(--accent-orange);">در انتظار</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">مبلغ واریزی ماه آینده</h3>
                                <i class="fas fa-credit-card" style="color: var(--accent-purple);"></i>
                            </div>
                            <div style="text-align: center; padding: 40px 20px;">
                                <div style="font-size: 3rem; color: var(--accent-green); font-weight: 800; margin-bottom: 20px;">۹,۸۰۰,۰۰۰ تومان</div>
                                <p style="color: var(--text-gray);">پیش‌بینی واریزی تا پایان آبان ماه</p>
                                <div style="margin-top: 30px; padding: 20px; background: rgba(0, 176, 155, 0.1); border-radius: 15px;">
                                    <p style="margin-bottom: 10px;"><i class="fas fa-info-circle"></i> واریز تا تاریخ ۵ آذر ۱۴۰۴</p>
                                    <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                                        <i class="fas fa-file-invoice-dollar"></i> مشاهده جزئیات مالی
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 40px;">
                        <div class="card-header">
                            <h3 class="card-title">نمودار درآمد ماهانه</h3>
                            <i class="fas fa-chart-bar" style="color: var(--accent-orange);"></i>
                        </div>
                        <div class="chart-container">
                            <canvas id="coach-income-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- پروفایل مربی -->
            <div id="coach-profile" class="portal-page hidden">
                <div class="profile-container">
                    <div class="profile-sidebar">
                        <div class="card profile-card">
                            <div class="profile-avatar">
                                <img id="coach-profile-avatar-img" src="https://randomuser.me/api/portraits/men/75.jpg" alt="Coach Avatar">
                            </div>
                            <h3 id="coach-profile-name">مربی نمونه</h3>
                            <p id="coach-profile-specialty">مربی بدنسازی</p>
                            <p id="coach-profile-experience">سابقه: ۵ سال</p>
                            <p id="coach-profile-rating">امتیاز: ۴.۸ ★</p>
                            <div class="avatar-upload">
                                <input type="file" id="coach-avatar-upload" accept="image/*" class="hidden">
                                <button class="btn btn-secondary" onclick="document.getElementById('coach-avatar-upload').click()" style="margin-top: 20px;">
                                    <i class="fas fa-camera"></i> تغییر عکس پروفایل
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-main">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">اطلاعات حساب مربی</h3>
                                <i class="fas fa-user-cog" style="color: var(--accent-blue);"></i>
                            </div>
                            <div class="form-group">
                                <label for="coach-profile-username">نام کاربری</label>
                                <input type="text" id="coach-profile-username" class="form-control" value="coach">
                            </div>
                            <div class="form-group">
                                <label for="coach-profile-email">ایمیل</label>
                                <input type="email" id="coach-profile-email" class="form-control" value="coach@track.com">
                            </div>
                            <div class="form-group">
                                <label for="coach-profile-specialty-input">تخصص</label>
                                <input type="text" id="coach-profile-specialty-input" class="form-control" value="بدنسازی">
                            </div>
                            <div class="form-group">
                                <label for="coach-profile-experience-input">سابقه کار (سال)</label>
                                <input type="number" id="coach-profile-experience-input" class="form-control" value="5">
                            </div>
                            <div class="form-group">
                                <label for="coach-profile-bio">بیوگرافی</label>
                                <textarea id="coach-profile-bio" class="form-control" rows="4" placeholder="درباره خودتان بنویسید...">مربی با ۵ سال سابقه در زمینه بدنسازی و آمادگی جسمانی. تخصص در برنامه‌ریزی تمرینی و تغذیه ورزشی.</textarea>
                            </div>
                            <button class="btn btn-primary" id="coach-save-profile" style="margin-top: 20px;">
                                <i class="fas fa-save"></i> ذخیره تغییرات
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <div class="container">
                <div class="dedication">
                    <i class="fas fa-heart heart"></i>
                    <span>تقدیم به تمام مردم ایران، مخصوصاً توانیابان عزیز</span>
                    <i class="fas fa-heart heart"></i>
                </div>
                <div class="copyright">
                    © ۱۴۰۴ - پنل مربی Track | نسخه ۲.۰ | تیم out of box
                </div>
            </div>
        </footer>
    </div>
    
    <!-- پورتال ادمین کاملاً تکمیل شده -->
    <div id="admin-portal" class="hidden">
        <header>
            <div class="container header-content">
                <div class="logo">
                    <i class="fas fa-running"></i>
                    <span>Track - پنل مدیریت</span>
                </div>
                
                <nav class="nav-links">
                    <a href="#" class="nav-link active" data-page="admin-dashboard">داشبورد مدیریت</a>
                    <a href="#" class="nav-link" data-page="admin-users">مدیریت کاربران</a>
                    <a href="#" class="nav-link" data-page="admin-coaches">مدیریت مربیان</a>
                    <a href="#" class="nav-link" data-page="admin-content">مدیریت محتوا</a>
                    <a href="#" class="nav-link" data-page="admin-events">مدیریت رویدادها</a>
                    <a href="#" class="nav-link" data-page="admin-reports">گزارشات</a>
                    <a href="#" class="nav-link" data-page="admin-settings">تنظیمات</a>
                </nav>
                
                <div class="user-info">
                    <button class="theme-toggle" id="admin-theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <div class="user-avatar">
                        <img id="admin-avatar-img" src="https://randomuser.me/api/portraits/men/1.jpg" alt="Admin Avatar">
                        <div class="user-level-badge">A</div>
                    </div>
                    <div>
                        <div id="admin-display-name">مدیر سیستم</div>
                        <small>سطح دسترسی: ادمین</small>
                    </div>
                    <button class="btn btn-secondary logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        خروج
                    </button>
                </div>
            </div>
        </header>
        
        <main class="portal-container container admin-panel">
            <!-- داشبورد ادمین -->
            <div id="admin-dashboard" class="portal-page">
                <div class="welcome-section">
                    <div>
                        <h1>پنل مدیریت Track</h1>
                        <p>به پنل مدیریت خوش آمدید. از اینجا می‌توانید تمامی بخش‌های سیستم را مدیریت کنید.</p>
                    </div>
                    <div style="background: linear-gradient(135deg, rgba(106, 17, 203, 0.2), rgba(248, 7, 89, 0.2)); padding: 25px; border-radius: 20px; border: 2px solid rgba(106, 17, 203, 0.3);">
                        <h3><i class="fas fa-chart-line"></i> آمار کلی سیستم</h3>
                        <p style="font-size: 2rem; color: var(--accent-purple); font-weight: 800;">۱۰,۲۴۵ کاربر فعال</p>
                    </div>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3>۱۰,۲۴۵</h3>
                        <p>کاربران فعال</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-tie"></i>
                        <h3>۱۲۸</h3>
                        <p>مربیان فعال</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <h3>۴۵</h3>
                        <p>رویداد فعال</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-video"></i>
                        <h3>۵۶۰</h3>
                        <p>محتوای آموزشی</p>
                    </div>
                </div>
                
                <div class="grid-layout">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">آخرین فعالیت‌ها</h3>
                            <i class="fas fa-history" style="color: var(--accent-blue);"></i>
                        </div>
                        <div style="padding: 10px 0;">
                            <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 2px solid rgba(255,255,255,0.1);">
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 40px; height: 40px; background: rgba(106, 17, 203, 0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div>
                                        <div style="font-weight: 600;">ثبت‌نام کاربر جدید</div>
                                        <small style="color: var(--text-gray);">۲ دقیقه پیش</small>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 15px 0; border-bottom: 2px solid rgba(255,255,255,0.1);">
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 40px; height: 40px; background: rgba(0, 176, 155, 0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-dumbbell"></i>
                                    </div>
                                    <div>
                                        <div style="font-weight: 600;">تمرین جدید ثبت شد</div>
                                        <small style="color: var(--text-gray);">۱۵ دقیقه پیش</small>
                                    </div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 15px 0;">
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 40px; height: 40px; background: rgba(37, 117, 252, 0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-video"></i>
                                    </div>
                                    <div>
                                        <div style="font-weight: 600;">محتوای جدید آپلود شد</div>
                                        <small style="color: var(--text-gray);">۱ ساعت پیش</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">سیستم گیمیفیکیشن</h3>
                            <i class="fas fa-gamepad" style="color: var(--accent-purple);"></i>
                        </div>
                        <div class="coach-stats">
                            <div class="stat-item">
                                <h4>۵</h4>
                                <p>سطح‌های سیاره</p>
                            </div>
                            <div class="stat-item">
                                <h4>۴۸</h4>
                                <p>بج‌های موفقیت</p>
                            </div>
                            <div class="stat-item">
                                <h4>۱۲۴۵</h4>
                                <p>چالش فعال</p>
                            </div>
                            <div class="stat-item">
                                <h4>۸۵٪</h4>
                                <p>تعامل کاربران</p>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-cog"></i> تنظیمات گیمیفیکیشن
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="card" style="margin-top: 40px;">
                    <div class="card-header">
                        <h3 class="card-title">نمودار رشد کاربران</h3>
                        <i class="fas fa-chart-line" style="color: var(--accent-green);"></i>
                    </div>
                    <div class="chart-container">
                        <canvas id="admin-growth-chart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- مدیریت کاربران -->
            <div id="admin-users" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت کاربران</h3>
                        <i class="fas fa-users-cog" style="color: var(--accent-blue);"></i>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> افزودن کاربر جدید
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-filter"></i> فیلتر کاربران
                        </button>
                        <button class="btn btn-success">
                            <i class="fas fa-file-export"></i> خروجی Excel
                        </button>
                        <button class="btn btn-danger">
                            <i class="fas fa-trash"></i> حذف دسته‌ای
                        </button>
                    </div>
                    
                    <table class="advanced-table">
                        <thead>
                            <tr>
                                <th>نام کاربر</th>
                                <th>ایمیل</th>
                                <th>سطح</th>
                                <th>تاریخ عضویت</th>
                                <th>آخرین ورود</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">حمید حسینی</div>
                                            <small style="color: var(--text-gray);">کاربر نمونه</small>
                                        </div>
                                    </div>
                                </td>
                                <td>hamid@track.com</td>
                                <td><span class="planet-avatar level-3">۳</span></td>
                                <td>۱۵ مهر ۱۴۰۴</td>
                                <td>۲ آبان ۱۴۰۴</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                    <button class="action-btn btn-delete">حذف</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">فاطمه محمدی</div>
                                            <small style="color: var(--text-gray);">کاربر جدید</small>
                                        </div>
                                    </div>
                                </td>
                                <td>fatemeh@track.com</td>
                                <td><span class="planet-avatar level-2">۲</span></td>
                                <td>۲۰ مهر ۱۴۰۴</td>
                                <td>۱ آبان ۱۴۰۴</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                    <button class="action-btn btn-delete">حذف</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">علی رضایی</div>
                                            <small style="color: var(--text-gray);">کاربر حرفه‌ای</small>
                                        </div>
                                    </div>
                                </td>
                                <td>ali@track.com</td>
                                <td><span class="planet-avatar level-4">۴</span></td>
                                <td>۵ مهر ۱۴۰۴</td>
                                <td>۳۰ مهر ۱۴۰۴</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                    <button class="action-btn btn-delete">حذف</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- مدیریت مربیان -->
            <div id="admin-coaches" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت مربیان</h3>
                        <i class="fas fa-user-tie" style="color: var(--accent-purple);"></i>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> تایید مربی جدید
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-search"></i> جستجوی مربی
                        </button>
                        <button class="btn btn-success">
                            <i class="fas fa-star"></i> مربیان برتر
                        </button>
                    </div>
                    
                    <div class="panel-grid">
                        <div class="panel-card">
                            <h3>مربیان در انتظار تایید</h3>
                            <ul>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">سارا احمدی</div>
                                        <small style="color: var(--text-gray);">تخصص: یوگا | سابقه: ۳ سال</small>
                                    </div>
                                    <div>
                                        <button class="action-btn btn-edit" style="padding: 5px 10px; font-size: 0.9rem;">تایید</button>
                                        <button class="action-btn btn-delete" style="padding: 5px 10px; font-size: 0.9rem;">رد</button>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">مهدی کریمی</div>
                                        <small style="color: var(--text-gray);">تخصص: دوی استقامت | سابقه: ۵ سال</small>
                                    </div>
                                    <div>
                                        <button class="action-btn btn-edit" style="padding: 5px 10px; font-size: 0.9rem;">تایید</button>
                                        <button class="action-btn btn-delete" style="padding: 5px 10px; font-size: 0.9rem;">رد</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="panel-card">
                            <h3>آمار مربیان</h3>
                            <ul>
                                <li>
                                    <span>مربیان فعال</span>
                                    <span class="badge">۱۲۸</span>
                                </li>
                                <li>
                                    <span>مربیان جدید این ماه</span>
                                    <span class="badge">۸</span>
                                </li>
                                <li>
                                    <span>میانگین امتیاز</span>
                                    <span class="badge">۴.۶</span>
                                </li>
                                <li>
                                    <span>مربیان برتر</span>
                                    <span class="badge">۱۵</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <table class="advanced-table" style="margin-top: 40px;">
                        <thead>
                            <tr>
                                <th>نام مربی</th>
                                <th>تخصص</th>
                                <th>سابقه</th>
                                <th>امتیاز</th>
                                <th>شاگردان</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">مربی نمونه</div>
                                            <small style="color: var(--text-gray);">coach@track.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td>بدنسازی</td>
                                <td>۵ سال</td>
                                <td><span style="color: var(--accent-gold); font-weight: 600;">۴.۸</span></td>
                                <td>۱۲</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                                        <div>
                                            <div style="font-weight: 600;">سارا احمدی</div>
                                            <small style="color: var(--text-gray);">yoga@track.com</small>
                                        </div>
                                    </div>
                                </td>
                                <td>یوگا</td>
                                <td>۴ سال</td>
                                <td><span style="color: var(--accent-gold); font-weight: 600;">۴.۹</span></td>
                                <td>۱۸</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- مدیریت محتوا -->
            <div id="admin-content" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت محتوای آموزشی</h3>
                        <i class="fas fa-photo-video" style="color: var(--accent-red);"></i>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> افزودن محتوا
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-filter"></i> فیلتر محتوا
                        </button>
                        <button class="btn btn-success">
                            <i class="fas fa-check"></i> تایید محتوا
                        </button>
                    </div>
                    
                    <div class="panel-grid">
                        <div class="panel-card">
                            <h3>آمار محتوا</h3>
                            <ul>
                                <li>
                                    <span>کل محتواها</span>
                                    <span class="badge">۵۶۰</span>
                                </li>
                                <li>
                                    <span>ویدیوهای آموزشی</span>
                                    <span class="badge">۳۲۰</span>
                                </li>
                                <li>
                                    <span>تصاویر تمرینی</span>
                                    <span class="badge">۱۵۰</span>
                                </li>
                                <li>
                                    <span>فایل‌های PDF</span>
                                    <span class="badge">۹۰</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="panel-card">
                            <h3>محتوای در انتظار تایید</h3>
                            <ul>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">تمرینات ویژه کمر</div>
                                        <small style="color: var(--text-gray);">ارسال شده توسط: مربی نمونه</small>
                                    </div>
                                    <div>
                                        <button class="action-btn btn-edit" style="padding: 5px 10px; font-size: 0.9rem;">تایید</button>
                                        <button class="action-btn btn-delete" style="padding: 5px 10px; font-size: 0.9rem;">رد</button>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">برنامه غذایی ورزشی</div>
                                        <small style="color: var(--text-gray);">ارسال شده توسط: سارا احمدی</small>
                                    </div>
                                    <div>
                                        <button class="action-btn btn-edit" style="padding: 5px 10px; font-size: 0.9rem;">تایید</button>
                                        <button class="action-btn btn-delete" style="padding: 5px 10px; font-size: 0.9rem;">رد</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="gallery-grid" style="margin-top: 40px;">
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Running">
                            <div class="overlay">
                                <div style="font-weight: 600;">دوی استقامت</div>
                                <small>مربی: علی نظری</small>
                            </div>
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Weightlifting">
                            <div class="overlay">
                                <div style="font-weight: 600;">بدنسازی</div>
                                <small>مربی: مربی نمونه</small>
                            </div>
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Yoga">
                            <div class="overlay">
                                <div style="font-weight: 600;">یوگا</div>
                                <small>مربی: سارا احمدی</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- مدیریت رویدادها -->
            <div id="admin-events" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">مدیریت رویدادها</h3>
                        <i class="fas fa-calendar-week" style="color: var(--accent-orange);"></i>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> ایجاد رویداد جدید
                        </button>
                        <button class="btn btn-secondary">
                            <i class="fas fa-calendar-alt"></i> تقویم رویدادها
                        </button>
                        <button class="btn btn-success">
                            <i class="fas fa-users"></i> شرکت‌کنندگان
                        </button>
                    </div>
                    
                    <div class="panel-grid">
                        <div class="panel-card">
                            <h3>رویدادهای پیش‌رو</h3>
                            <ul>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">دوی نیمه ماراتن</div>
                                        <small style="color: var(--text-gray);">۱۵ آبان - پارک لاله</small>
                                    </div>
                                    <span class="badge" style="background: var(--accent-green);">۴۵ نفر</span>
                                </li>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">کارگاه بدنسازی</div>
                                        <small style="color: var(--text-gray);">۲۰ آبان - سالن آزادی</small>
                                    </div>
                                    <span class="badge" style="background: var(--accent-blue);">۲۳ نفر</span>
                                </li>
                                <li>
                                    <div>
                                        <div style="font-weight: 600;">یوگا در طبیعت</div>
                                        <small style="color: var(--text-gray);">۲۵ آبان - پارک جمشیدیه</small>
                                    </div>
                                    <span class="badge" style="background: var(--accent-orange);">۱۸ نفر</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="panel-card">
                            <h3>آمار رویدادها</h3>
                            <ul>
                                <li>
                                    <span>رویدادهای فعال</span>
                                    <span class="badge">۴۵</span>
                                </li>
                                <li>
                                    <span>شرکت‌کنندگان کل</span>
                                    <span class="badge">۱,۲۴۵</span>
                                </li>
                                <li>
                                    <span>رویدادهای این ماه</span>
                                    <span class="badge">۸</span>
                                </li>
                                <li>
                                    <span>میانگین شرکت‌کننده</span>
                                    <span class="badge">۲۸</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <table class="advanced-table" style="margin-top: 40px;">
                        <thead>
                            <tr>
                                <th>عنوان رویداد</th>
                                <th>تاریخ</th>
                                <th>مکان</th>
                                <th>مربی</th>
                                <th>شرکت‌کنندگان</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>دوی نیمه ماراتن</td>
                                <td>۱۵ آبان ۱۴۰۴</td>
                                <td>پارک لاله</td>
                                <td>علی نظری</td>
                                <td>۴۵</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                </td>
                            </tr>
                            <tr>
                                <td>کارگاه بدنسازی</td>
                                <td>۲۰ آبان ۱۴۰۴</td>
                                <td>سالن آزادی</td>
                                <td>مربی نمونه</td>
                                <td>۲۳</td>
                                <td><span class="badge" style="background: var(--accent-green);">فعال</span></td>
                                <td>
                                    <button class="action-btn btn-view">مشاهده</button>
                                    <button class="action-btn btn-edit">ویرایش</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- گزارشات -->
            <div id="admin-reports" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">گزارشات جامع</h3>
                        <i class="fas fa-chart-pie" style="color: var(--accent-green);"></i>
                    </div>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <i class="fas fa-chart-line"></i>
                            <h3>۸۵٪</h3>
                            <p>نرخ رشد کاربران</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-user-check"></i>
                            <h3>۷۲٪</h3>
                            <p>نرخ حفظ کاربران</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-money-bill-wave"></i>
                            <h3>۲۵۰M</h3>
                            <p>درآمد سالانه</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-heart"></i>
                            <h3>۹۴٪</h3>
                            <p>رضایت کاربران</p>
                        </div>
                    </div>
                    
                    <div class="grid-layout">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">گزارش فعالیت کاربران</h3>
                                <i class="fas fa-chart-bar" style="color: var(--accent-blue);"></i>
                            </div>
                            <div class="chart-container">
                                <canvas id="admin-activity-chart"></canvas>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">توزیع سطوح کاربران</h3>
                                <i class="fas fa-chart-pie" style="color: var(--accent-purple);"></i>
                            </div>
                            <div class="chart-container">
                                <canvas id="admin-levels-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 40px;">
                        <div class="card-header">
                            <h3 class="card-title">گزارشات قابل دانلود</h3>
                            <i class="fas fa-file-download" style="color: var(--accent-red);"></i>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-primary">
                                <i class="fas fa-file-excel"></i> گزارش کاربران
                            </button>
                            <button class="btn btn-secondary">
                                <i class="fas fa-file-excel"></i> گزارش مالی
                            </button>
                            <button class="btn btn-success">
                                <i class="fas fa-file-excel"></i> گزارش مربیان
                            </button>
                            <button class="btn btn-danger">
                                <i class="fas fa-file-excel"></i> گزارش رویدادها
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- تنظیمات -->
            <div id="admin-settings" class="portal-page hidden">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">تنظیمات سیستم</h3>
                        <i class="fas fa-cogs" style="color: var(--accent-blue);"></i>
                    </div>
                    
                    <div class="panel-grid">
                        <div class="panel-card">
                            <h3>تنظیمات عمومی</h3>
                            <div class="form-group" style="margin-top: 20px;">
                                <label for="site-name">نام سایت</label>
                                <input type="text" id="site-name" class="form-control" value="Track">
                            </div>
                            <div class="form-group">
                                <label for="site-url">آدرس سایت</label>
                                <input type="text" id="site-url" class="form-control" value="https://track-app.ir">
                            </div>
                            <div class="form-group">
                                <label for="site-description">توضیحات سایت</label>
                                <textarea id="site-description" class="form-control" rows="3">پلتفرم ورزشی گیمیفیکیشن</textarea>
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-save"></i> ذخیره تنظیمات
                            </button>
                        </div>
                        
                        <div class="panel-card">
                            <h3>تنظیمات امنیتی</h3>
                            <div class="form-group" style="margin-top: 20px;">
                                <label for="admin-email">ایمیل مدیر</label>
                                <input type="email" id="admin-email" class="form-control" value="admin@track-app.ir">
                            </div>
                            <div class="form-group">
                                <label for="admin-password">رمز عبور جدید</label>
                                <input type="password" id="admin-password" class="form-control" placeholder="رمز عبور جدید">
                            </div>
                            <div class="form-group">
                                <label for="admin-confirm-password">تکرار رمز عبور</label>
                                <input type="password" id="admin-confirm-password" class="form-control" placeholder="تکرار رمز عبور">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="two-factor-auth">
                                    احراز هویت دو مرحله‌ای
                                </label>
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-shield-alt"></i> به‌روزرسانی امنیتی
                            </button>
                        </div>
                    </div>
                    
                    <div class="panel-grid" style="margin-top: 40px;">
                        <div class="panel-card">
                            <h3>تنظیمات گیمیفیکیشن</h3>
                            <div class="form-group" style="margin-top: 20px;">
                                <label for="level-up-points">امتیاز لازم برای ارتقای سطح</label>
                                <input type="number" id="level-up-points" class="form-control" value="100">
                            </div>
                            <div class="form-group">
                                <label for="daily-goal-points">امتیاز هدف روزانه</label>
                                <input type="number" id="daily-goal-points" class="form-control" value="50">
                            </div>
                            <div class="form-group">
                                <label for="streak-bonus">پاداش روزهای پیوسته</label>
                                <input type="number" id="streak-bonus" class="form-control" value="10">
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-gamepad"></i> ذخیره تنظیمات گیمیفیکیشن
                            </button>
                        </div>
                        
                        <div class="panel-card">
                            <h3>تنظیمات اعلان‌ها</h3>
                            <div class="form-group" style="margin-top: 20px;">
                                <label>
                                    <input type="checkbox" id="email-notifications" checked>
                                    اعلان‌های ایمیلی
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="push-notifications" checked>
                                    اعلان‌های push
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="sms-notifications">
                                    اعلان‌های SMS
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="notification-time">زمان ارسال اعلان‌ها</label>
                                <input type="time" id="notification-time" class="form-control" value="09:00">
                            </div>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                                <i class="fas fa-bell"></i> ذخیره تنظیمات اعلان‌ها
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <div class="container">
                <div class="dedication">
                    <i class="fas fa-heart heart"></i>
                    <span>تقدیم به تمام مردم ایران، مخصوصاً توانیابان عزیز</span>
                    <i class="fas fa-heart heart"></i>
                </div>
                <div class="copyright">
                    © ۱۴۰۴ - پنل مدیریت Track | نسخه ۲.۰ | تیم out of box
                </div>
            </div>
        </footer>
    </div>
    
    <!-- مودال نمایش رویداد -->
    <div id="event-modal" class="modal-overlay">
        <div class="modal">
            <button class="modal-close" id="modal-close">
                <i class="fas fa-times"></i>
            </button>
            <div id="modal-content">
                <!-- محتوای مودال -->
            </div>
        </div>
    </div>
    
    <!-- مودال حساب‌های نمونه -->
    <div id="sample-accounts-modal" class="modal-overlay">
        <div class="modal">
            <button class="modal-close" id="sample-modal-close">
                <i class="fas fa-times"></i>
            </button>
            <h2 style="margin-bottom: 20px; color: var(--accent-purple);">حساب‌های نمونه</h2>
            <p style="margin-bottom: 25px; color: var(--text-gray); font-size: 1.1rem;">برای تست سیستم می‌توانید از حساب‌های زیر استفاده کنید:</p>
            <div style="margin-top: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(106, 17, 203, 0.1); padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                    <div>
                        <div style="font-weight: 600;">کاربر عادی</div>
                        <small style="color: var(--text-gray);">دسترسی به پورتال کاربر</small>
                    </div>
                    <div style="text-align: left;">
                        <div><strong>نام کاربری:</strong> hamid</div>
                        <div><strong>رمز عبور:</strong> 123456</div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(37, 117, 252, 0.1); padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                    <div>
                        <div style="font-weight: 600;">مربی</div>
                        <small style="color: var(--text-gray);">دسترسی به پورتال مربی</small>
                    </div>
                    <div style="text-align: left;">
                        <div><strong>نام کاربری:</strong> ali</div>
                        <div><strong>رمز عبور:</strong> 123456</div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(248, 7, 89, 0.1); padding: 15px; border-radius: 12px;">
                    <div>
                        <div style="font-weight: 600;">مدیر سیستم</div>
                        <small style="color: var(--text-gray);">دسترسی به پورتال ادمین</small>
                    </div>
                    <div style="text-align: left;">
                        <div><strong>نام کاربری:</strong> admin</div>
                        <div><strong>رمز عبور:</strong> admin</div>
                    </div>
                </div>
            </div>
            <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid rgba(255, 255, 255, 0.1);">
                <button class="btn btn-primary" id="close-sample-modal" style="width: 100%;">بستن</button>
            </div>
        </div>
    </div>
    
    <!-- نوتیفیکیشن -->
    <div id="notification" class="notification">
        <div style="display: flex; align-items: center;">
            <i class="fas fa-check-circle"></i>
            <div>
                <div style="font-weight: 600;" id="notification-title">اعلان</div>
                <div id="notification-message">پیام اعلان اینجا نمایش داده می‌شود</div>
            </div>
        </div>
    </div>

    <script>
        // پایگاه داده کاربران
        const usersDB = {
            "admin": { username: "admin", password: "admin", name: "مدیر سیستم", role: "admin", level: 5, score: 5000, avatar: "https://randomuser.me/api/portraits/men/1.jpg", email: "admin@track.com", isNewUser: false },
            "ali": { username: "ali", password: "123456", name: "علی احمدی", role: "coach", specialty: "بدنسازی", experience: "۵ سال", rating: 4.8, students: 12, income: 12500000, avatar: "https://randomuser.me/api/portraits/men/75.jpg", email: "coach@track.com", isNewUser: false },
            "hamid": { username: "hamid", password: "123456", name: "حمید حسینی", role: "user", level: 3, score: 1200, avatar: "https://randomuser.me/api/portraits/men/32.jpg", email: "hamid@track.com", isNewUser: false, joinDate: "۱۵ مهر ۱۴۰۴" }
        };
        
        // متغیرهای جهانی
        let currentUser = null;
        let isLoginMode = true;
        let currentTheme = 'dark';
        let currentPage = 'user-dashboard';
        let currentPortal = 'user';
        let uploadedFiles = [];
        let notificationTimeout;
        
        // نقل‌قول‌های انگیزشی
        const motivationalQuotes = [
            { text: "موفقیت یک شبه به دست نمی‌آید، حاصل تلاش‌های مستمر روزانه است. امروز قدمی بردار!", author: "جمله روز Track" },
            { text: "تنها محدودیت‌های واقعی، محدودیت‌هایی هستند که در ذهن خود می‌سازیم.", author: "ناپلئون هیل" },
            { text: "هر روز فرصتی جدید است برای قوی‌تر شدن، هم از نظر جسمی و هم از نظر ذهنی.", author: "جمله روز Track" },
            { text: "تمرین امروز، پیروزی فردا را می‌سازد. تسلیم نشو!", author: "جمله روز Track" },
            { text: "بدن‌های قوی، ذهن‌های قوی را می‌سازند. به تمرینات خود ادامه دهید.", author: "آرنولد شوارتزنگر" },
            { text: "هر قطره عرقی که می‌ریزید، شما را یک قدم به هدفتان نزدیک‌تر می‌کند.", author: "جمله روز Track" },
            { text: "تفاوت بین غیرممکن و ممکن در تصمیم و اراده یک فرد نهفته است.", author: "تامی لاسوردا" },
            { text: "ورزش نه تنها بدن را تغییر می‌دهد، بلکه ذهن، نگرش و خلق‌و‌خو را نیز متحول می‌کند.", author: "جمله روز Track" }
        ];
        
        // داده‌های نمونه برای سیستم
        const sampleData = {
            events: [
                { id: 1, title: "دوی نیمه ماراتن تهران", date: "۱۵ آبان ۱۴۰۴", location: "پارک لاله", image: "https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", description: "شرکت در این رویداد ورزشی برای تمامی سنین آزاد است. این مسابقه در مسافت ۲۱ کیلومتر برگزار می‌شود." },
                { id: 2, title: "مسابقه بدنسازی", date: "۲۵ آبان ۱۴۰۴", location: "سالن آزادی", image: "https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", description: "مسابقه بدنسازی در رده‌های سنی مختلف و در بخش‌های متفاوت برگزار خواهد شد." },
                { id: 3, title: "یوگا در طبیعت", date: "۵ آذر ۱۴۰۴", location: "پارک جمشیدیه", image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", description: "جلسه گروهی یوگا در دل طبیعت برای تجربه‌ای متفاوت و آرامش بخش." }
            ],
            videos: [
                { title: "تمرینات هوازی برای مبتدیان", duration: "۱۵:۳۰", instructor: "سارا احمدی", image: "https://images.unsplash.com/photo-1536240478700-b869070f9279?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { title: "تمرینات قدرتی در خانه", duration: "۲۲:۱۰", instructor: "محمدرضا کریمی", image: "https://images.unsplash.com/photo-1534367507877-0edd93bd013b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { title: "حرکات کششی برای انعطاف‌پذیری", duration: "۱۸:۴۵", instructor: "فاطمه محمدی", image: "https://images.unsplash.com/photo-1549576490-b0b4831ef60a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
                { title: "تمرینات اینتروال برای چربی‌سوزی", duration: "۲۵:۲۰", instructor: "علی نظری", image: "https://images.unsplash.com/photo-1574680178050-55c6a6a96e0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" }
            ],
            coaches: [
                { name: "محمدرضا کریمی", specialty: "بدنسازی", experience: "۸ سال", rating: 4.9, students: 15, avatar: "https://randomuser.me/api/portraits/men/10.jpg" },
                { name: "سارا احمدی", specialty: "یوگا", experience: "۵ سال", rating: 4.8, students: 22, avatar: "https://randomuser.me/api/portraits/women/65.jpg" },
                { name: "علی نظری", specialty: "دوی استقامت", experience: "۱۰ سال", rating: 5.0, students: 18, avatar: "https://randomuser.me/api/portraits/men/22.jpg" },
                { name: "فاطمه محمدی", specialty: "پیلاتس", experience: "۶ سال", rating: 4.7, students: 12, avatar: "https://randomuser.me/api/portraits/women/44.jpg" }
            ],
            ranking: [
                { name: "علی محمدی", level: 5, score: 2450, avatar: "https://randomuser.me/api/portraits/men/33.jpg" },
                { name: "مریم رضایی", level: 5, score: 2300, avatar: "https://randomuser.me/api/portraits/women/33.jpg" },
                { name: "سید حمید حسینی", level: 3, score: 1200, avatar: "https://randomuser.me/api/portraits/men/32.jpg" },
                { name: "فاطمه کریمی", level: 4, score: 1800, avatar: "https://randomuser.me/api/portraits/women/22.jpg" },
                { name: "محمد حسینی", level: 3, score: 1150, avatar: "https://randomuser.me/api/portraits/men/55.jpg" },
                { name: "زهرا احمدی", level: 2, score: 850, avatar: "https://randomuser.me/api/portraits/women/55.jpg" },
                { name: "رضا علی‌پور", level: 4, score: 1950, avatar: "https://randomuser.me/api/portraits/men/66.jpg" },
                { name: "نازنین امیری", level: 3, score: 1250, avatar: "https://randomuser.me/api/portraits/women/66.jpg" }
            ],
            performanceHistory: [
                { date: "۱ آبان ۱۴۰۴", activity: "دویدن", duration: "۳۰ دقیقه", status: "تایید شده", score: 50 },
                { date: "۲۹ مهر ۱۴۰۴", activity: "بدنسازی", duration: "۴۵ دقیقه", status: "تایید شده", score: 75 },
                { date: "۲۷ مهر ۱۴۰۴", activity: "یوگا", duration: "۶۰ دقیقه", status: "در انتظار تایید", score: 0 }
            ]
        };
        
        // زمانی که DOM لود شد
        document.addEventListener('DOMContentLoaded', function() {
            // تنظیم نقل‌قول روز
            setDailyQuote();
            
            // تنظیم تاریخ امروز
            setTodayDate();
            
            // تنظیم event listeners
            setupEventListeners();
            
            // اگر کاربر قبلاً لاگین کرده بود
            checkRememberedUser();
            
            // بارگذاری اولیه چت
            loadInitialChatMessages();
            loadInitialCoachChatMessages();
            
            // تنظیم نمودارهای مربی و ادمین
            setupCoachCharts();
            setupAdminCharts();
        });
        
        // تنظیم نقل‌قول روز
        function setDailyQuote() {
            const quoteElement = document.getElementById('quote-text');
            const quoteAuthor = document.querySelector('.quote-author');
            if (quoteElement && quoteAuthor) {
                const randomIndex = Math.floor(Math.random() * motivationalQuotes.length);
                quoteElement.textContent = motivationalQuotes[randomIndex].text;
                quoteAuthor.textContent = motivationalQuotes[randomIndex].author;
            }
        }
        
        // تنظیم تاریخ امروز
        function setTodayDate() {
            const today = new Date();
            const persianMonths = ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'];
            const month = persianMonths[today.getMonth()];
            const day = today.getDate();
            const year = 1403 + Math.floor((today.getMonth() + 1) / 10); // تقریبی
            
            // تنظیم تاریخ در بخش ثبت عملکرد
            const performanceDate = document.getElementById('performance-date');
            if (performanceDate) {
                performanceDate.value = `${day} ${month} ${year}`;
            }
        }
        
        // نمایش نوتیفیکیشن
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationTitle = document.getElementById('notification-title');
            const notificationMessage = document.getElementById('notification-message');
            
            if (!notification || !notificationTitle || !notificationMessage) return;
            
            // تنظیم رنگ بر اساس نوع نوتیفیکیشن
            if (type === 'success') {
                notification.style.background = 'linear-gradient(135deg, var(--accent-green), #11998e)';
                notification.querySelector('i').className = 'fas fa-check-circle';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(135deg, var(--accent-red), #ff416c)';
                notification.querySelector('i').className = 'fas fa-exclamation-circle';
            } else if (type === 'info') {
                notification.style.background = 'linear-gradient(135deg, var(--accent-blue), #1a6fe0)';
                notification.querySelector('i').className = 'fas fa-info-circle';
            }
            
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            // نمایش نوتیفیکیشن
            notification.classList.add('show');
            
            // پنهان کردن خودکار بعد از ۵ ثانیه
            clearTimeout(notificationTimeout);
            notificationTimeout = setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }
        
        // بررسی کاربر ذخیره شده
        function checkRememberedUser() {
            const rememberedUser = localStorage.getItem('track_current_user');
            if (rememberedUser) {
                const user = JSON.parse(rememberedUser);
                loginUser(user.username, user.password, true);
            }
        }
        
        // تغییر بین حالت ورود و ثبت‌نام
        function toggleAuthMode() {
            isLoginMode = !isLoginMode;
            
            const authTitle = document.getElementById('auth-title');
            const authButton = document.getElementById('auth-button');
            const toggleText = document.getElementById('toggle-text');
            const toggleLink = document.getElementById('toggle-link');
            const signupFields = document.getElementById('signup-fields');
            const authMessage = document.getElementById('auth-message');
            
            // پاک کردن پیام خطا
            if (authMessage) {
                authMessage.style.display = 'none';
                authMessage.textContent = '';
            }
            
            // پاک کردن فیلدها
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            
            if (isLoginMode) {
                authTitle.textContent = 'ورود به Track';
                authButton.innerHTML = '<i class="fas fa-sign-in-alt"></i> ورود به حساب کاربری';
                toggleText.textContent = 'حساب کاربری ندارید؟';
                toggleLink.textContent = 'ثبت‌نام کنید';
                signupFields.classList.add('hidden');
            } else {
                authTitle.textContent = 'ایجاد حساب کاربری';
                authButton.innerHTML = '<i class="fas fa-user-plus"></i> ایجاد حساب کاربری';
                toggleText.textContent = 'حساب کاربری دارید؟';
                toggleLink.textContent = 'وارد شوید';
                signupFields.classList.remove('hidden');
                
                // پاک کردن فیلدهای ثبت‌نام
                document.getElementById('username').value = '';
                document.getElementById('user-email').value = '';
                document.getElementById('confirm-password').value = '';
            }
        }
        
        // ورود کاربر
        function loginUser(username, password, fromRemember = false) {
            const authMessage = document.getElementById('auth-message');
            
            // بررسی اعتبار کاربر
            if (usersDB[username] && usersDB[username].password === password) {
                currentUser = { ...usersDB[username] };
                
                // ذخیره در localStorage
                localStorage.setItem('track_current_user', JSON.stringify({
                    username: currentUser.username,
                    password: currentUser.password
                }));
                
                // نمایش پیام موفقیت
                if (!fromRemember && authMessage) {
                    authMessage.style.color = 'var(--accent-green)';
                    authMessage.textContent = 'ورود موفقیت‌آمیز بود!';
                    authMessage.style.display = 'block';
                    
                    // نمایش نوتیفیکیشن
                    showNotification('ورود موفق', `خوش آمدید ${currentUser.name} عزیز!`, 'success');
                }
                
                // انتقال به پورتال مناسب
                setTimeout(() => {
                    showPortal(currentUser.role);
                }, fromRemember ? 0 : 1000);
                
                return true;
            } else {
                if (authMessage) {
                    authMessage.style.color = 'var(--accent-red)';
                    authMessage.textContent = 'نام کاربری یا رمز عبور اشتباه است';
                    authMessage.style.display = 'block';
                }
                return false;
            }
        }
        
        // ثبت‌نام کاربر جدید
        function signupUser(fullname, email, password) {
            const authMessage = document.getElementById('auth-message');
            
            // اعتبارسنجی ساده
            if (!fullname || !email || !password) {
                authMessage.style.color = 'var(--accent-red)';
                authMessage.textContent = 'لطفا تمام فیلدها را پر کنید';
                authMessage.style.display = 'block';
                return false;
            }
            
            if (password.length < 6) {
                authMessage.style.color = 'var(--accent-red)';
                authMessage.textContent = 'رمز عبور باید حداقل ۶ کاراکتر باشد';
                authMessage.style.display = 'block';
                return false;
            }
            
            // ایجاد نام کاربری منحصر به فرد
            const username = email.split('@')[0] + Date.now().toString().slice(-4);
            
            // ایجاد کاربر جدید با داده‌های اولیه صفر
            const today = new Date();
            const persianMonths = ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'];
            const month = persianMonths[today.getMonth()];
            const day = today.getDate();
            const year = 1403 + Math.floor((today.getMonth() + 1) / 10);
            
            const newUser = {
                username: username,
                password: password,
                name: fullname,
                role: "user",
                level: 1,
                score: 0,
                avatar: `https://randomuser.me/api/portraits/lego/${Math.floor(Math.random() * 5) + 1}.jpg`,
                email: email,
                isNewUser: true, // پرچم کاربر جدید
                joinDate: `${day} ${month} ${year}`
            };
            
            // ذخیره کاربر جدید
            usersDB[username] = newUser;
            currentUser = { ...newUser };
            
            // ذخیره در localStorage
            localStorage.setItem('track_current_user', JSON.stringify({
                username: currentUser.username,
                password: currentUser.password
            }));
            
            // نمایش پیام موفقیت
            authMessage.style.color = 'var(--accent-green)';
            authMessage.textContent = 'ثبت‌نام موفقیت‌آمیز بود!';
            authMessage.style.display = 'block';
            
            // نمایش نوتیفیکیشن
            showNotification('ثبت‌نام موفق', `حساب کاربری شما با موفقیت ایجاد شد!`, 'success');
            
            // انتقال به پورتال کاربر
            setTimeout(() => {
                showPortal(currentUser.role);
            }, 1000);
            
            return true;
        }
        
        // نمایش پورتال مناسب
        function showPortal(portalType) {
            // مخفی کردن همه پورتال‌ها
            document.getElementById('auth-page').classList.add('hidden');
            document.getElementById('user-portal').classList.add('hidden');
            document.getElementById('coach-portal').classList.add('hidden');
            document.getElementById('admin-portal').classList.add('hidden');
            
            // نمایش پورتال انتخاب شده
            if (portalType === 'user') {
                document.getElementById('user-portal').classList.remove('hidden');
                currentPortal = 'user';
                updateUserPortal();
                
                // اگر کاربر جدید است، صفحه خوش‌آمدگویی را نشان بده
                if (currentUser.isNewUser) {
                    showPage('user-welcome');
                    // پرچم را بردار تا دفعات بعد نشان ندهد
                    currentUser.isNewUser = false;
                    usersDB[currentUser.username].isNewUser = false;
                } else {
                    showPage('user-dashboard');
                }
            } else if (portalType === 'coach') {
                document.getElementById('coach-portal').classList.remove('hidden');
                currentPortal = 'coach';
                updateCoachPortal();
                showPage('coach-dashboard');
            } else if (portalType === 'admin') {
                document.getElementById('admin-portal').classList.remove('hidden');
                currentPortal = 'admin';
                updateAdminPortal();
                showPage('admin-dashboard');
            }
        }
        
        // به‌روزرسانی پورتال کاربر
        function updateUserPortal() {
            if (!currentUser) return;
            
            // به‌روزرسانی اطلاعات کاربر
            document.getElementById('user-display-name').textContent = currentUser.name;
            document.getElementById('user-role').textContent = `سطح ${currentUser.level} - ${getPlanetName(currentUser.level)}`;
            document.getElementById('user-level-badge').textContent = currentUser.level;
            document.getElementById('user-avatar-img').src = currentUser.avatar;
            document.getElementById('welcome-message').textContent = `سلام، ${currentUser.name}!`;
            document.getElementById('dashboard-user-name').textContent = currentUser.name;
            document.getElementById('welcome-user-name').textContent = currentUser.name;
            document.getElementById('welcome-title').textContent = `به Track خوش آمدید ${currentUser.name}!`;
            document.getElementById('welcome-text').textContent = `سلام ${currentUser.name} عزیز، به جامعه ورزشی Track خوش آمدید. آماده‌اید که سفر خود را به سوی سلامت و تناسب اندام آغاز کنید؟`;
            
            // به‌روزرسانی سیاره
            updateUserPlanet();
            
            // به‌روزرسانی گواهی
            document.getElementById('certificate-name').textContent = currentUser.name;
            document.getElementById('certificate-course').textContent = currentUser.level >= 3 ? 
                `"برنامه ورزشی پیشرفته با سیستم گیمیفیکیشن"` : 
                `"برنامه ورزشی مقدماتی"`;
            document.getElementById('certificate-score').textContent = currentUser.level >= 4 ? "عالی" : 
                currentUser.level >= 3 ? "خیلی خوب" : "قابل قبول";
            
            // به‌روزرسانی پروفایل
            document.getElementById('profile-name').textContent = currentUser.name;
            document.getElementById('profile-level').textContent = `کاربر سطح ${currentUser.level} - ${getPlanetName(currentUser.level)}`;
            document.getElementById('profile-avatar-img').src = currentUser.avatar;
            document.getElementById('profile-username').value = currentUser.username;
            document.getElementById('profile-email').value = currentUser.email;
            if (currentUser.joinDate) {
                document.getElementById('profile-join-date').textContent = `عضویت از: ${currentUser.joinDate}`;
            }
            
            // بارگذاری داده‌ها
            loadUserData();
            
            // بارگذاری تاریخچه عملکرد
            loadPerformanceHistory();
            
            // تنظیم نمودارها (برای کاربران جدید خالی، برای نمونه پر)
            setupCharts();
        }
        
        // به‌روزرسانی سیاره کاربر
        function updateUserPlanet() {
            if (!currentUser) return;
            
            const planet = document.getElementById('user-planet');
            const planetTitle = document.getElementById('planet-title');
            const progressBar = document.getElementById('user-progress-bar');
            const progressText = document.getElementById('progress-text');
            const scoreText = document.getElementById('score-text');
            
            // تنظیم کلاس سیاره بر اساس سطح
            planet.className = 'planet';
            planet.classList.add(`planet-level-${Math.min(currentUser.level, 5)}`);
            
            // به‌روزرسانی عنوان سیاره
            planetTitle.textContent = `${getPlanetName(currentUser.level)} (سطح ${currentUser.level})`;
            
            // محاسبه پیشرفت
            const levelRanges = [0, 100, 300, 600, 1000, 1500]; // امتیاز مورد نیاز برای هر سطح
            const currentLevelIndex = Math.min(currentUser.level, 5);
            const currentLevelMin = levelRanges[currentLevelIndex - 1];
            const currentLevelMax = levelRanges[currentLevelIndex];
            const progress = currentUser.score > 0 ? ((currentUser.score - currentLevelMin) / (currentLevelMax - currentLevelMin)) * 100 : 0;
            
            // به‌روزرسانی نوار پیشرفت
            progressBar.style.width = `${Math.min(100, progress)}%`;
            
            // به‌روزرسانی متن‌ها
            const neededScore = currentLevelMax - currentUser.score;
            progressText.textContent = neededScore > 0 ? 
                `برای رسیدن به سطح بعدی ${neededScore} امتیاز دیگر نیاز داری` : 
                'به سطح حداکثر رسیده‌ای!';
            
            scoreText.textContent = `امتیاز شما: ${currentUser.score} از ${currentLevelMax}`;
            
            // به‌روزرسانی ستاره‌های پیشرفت
            const stars = document.querySelectorAll('.progress-star');
            const starCount = Math.min(5, Math.floor(progress / 20));
            
            stars.forEach((star, index) => {
                if (index < starCount) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }
        
        // دریافت نام سیاره بر اساس سطح
        function getPlanetName(level) {
            switch(level) {
                case 1: return "سیاره سبز";
                case 2: return "سیاره آبی";
                case 3: return "سیاره آتشین";
                case 4: return "سیاره قرمز";
                case 5: return "سیاره بنفش";
                default: return "سیاره افسانه‌ای";
            }
        }
        
        // بارگذاری داده‌های کاربر
        function loadUserData() {
            // بارگذاری رویدادها
            loadEvents();
            
            // بارگذاری ویدیوها
            loadVideos();
            
            // بارگذاری مربی‌ها
            loadCoaches();
            
            // بارگذاری رنکینگ
            loadRanking();
        }
        
        // بارگذاری رویدادها
        function loadEvents() {
            const eventsGrid = document.getElementById('user-events-grid');
            const allEventsGrid = document.getElementById('all-events-grid');
            
            if (!eventsGrid && !allEventsGrid) return;
            
            const eventsHTML = sampleData.events.map(event => `
                <div class="event-card" data-event-id="${event.id}">
                    <img src="${event.image}" alt="${event.title}" class="event-img">
                    <div class="event-info">
                        <h4>${event.title}</h4>
                        <p>${event.date} | ${event.location}</p>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="openEventModal(${event.id})">
                            <i class="fas fa-info-circle"></i> مشاهده جزئیات
                        </button>
                    </div>
                </div>
            `).join('');
            
            if (eventsGrid) eventsGrid.innerHTML = eventsHTML;
            if (allEventsGrid) allEventsGrid.innerHTML = eventsHTML;
        }
        
        // بارگذاری ویدیوها
        function loadVideos() {
            const videosGrid = document.getElementById('videos-grid');
            if (!videosGrid) return;
            
            videosGrid.innerHTML = sampleData.videos.map(video => `
                <div class="event-card">
                    <img src="${video.image}" alt="${video.title}" class="event-img">
                    <div class="event-info">
                        <h4>${video.title}</h4>
                        <p><i class="far fa-clock"></i> ${video.duration} | مربی: ${video.instructor}</p>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                            <i class="fas fa-play"></i> تماشای ویدیو
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // بارگذاری مربی‌ها
        function loadCoaches() {
            const coachesGrid = document.getElementById('coaches-grid');
            if (!coachesGrid) return;
            
            coachesGrid.innerHTML = sampleData.coaches.map(coach => `
                <div class="coach-card">
                    <div class="coach-avatar">
                        <img src="${coach.avatar}" alt="${coach.name}">
                    </div>
                    <h4>${coach.name}</h4>
                    <p>تخصص: ${coach.specialty}</p>
                    <p>سابقه: ${coach.experience}</p>
                    <p>شاگردان: ${coach.students} نفر</p>
                    <div style="margin-top: 10px;">
                        <span style="color: gold;">
                            ${'★'.repeat(Math.floor(coach.rating))}${'☆'.repeat(5 - Math.floor(coach.rating))}
                        </span>
                        <span> (${coach.rating})</span>
                    </div>
                    <button class="btn btn-primary" style="margin-top: 15px; width: 100%;">
                        <i class="fas fa-envelope"></i> درخواست مربی‌گری
                    </button>
                </div>
            `).join('');
        }
        
        // بارگذاری رنکینگ
        function loadRanking() {
            const rankingList = document.getElementById('ranking-list');
            if (!rankingList) return;
            
            // مرتب کردن بر اساس امتیاز
            const sortedRanking = [...sampleData.ranking].sort((a, b) => b.score - a.score);
            
            rankingList.innerHTML = sortedRanking.map((user, index) => {
                let rankClass = 'rank-other';
                if (index === 0) rankClass = 'rank-1';
                else if (index === 1) rankClass = 'rank-2';
                else if (index === 2) rankClass = 'rank-3';
                
                return `
                    <li class="ranking-item">
                        <div class="rank ${rankClass}">${index + 1}</div>
                        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
                            <img src="${user.avatar}" alt="${user.name}" style="width: 45px; height: 45px; border-radius: 50%;">
                            <div>
                                <div>${user.name}</div>
                                <small>سطح ${user.level} | ${user.score} امتیاز</small>
                            </div>
                        </div>
                        <div class="planet-avatar level-${Math.min(user.level, 5)}">${user.level}</div>
                    </li>
                `;
            }).join('');
        }
        
        // بارگذاری تاریخچه عملکرد
        function loadPerformanceHistory() {
            const performanceHistory = document.getElementById('performance-history');
            if (!performanceHistory) return;
            
            // اگر کاربر جدید است، تاریخچه خالی نشان بده
            if (currentUser && currentUser.isNewUser) {
                performanceHistory.innerHTML = `
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 40px; color: var(--text-gray);">
                            <i class="fas fa-clipboard-list" style="font-size: 3rem; margin-bottom: 20px; display: block;"></i>
                            هنوز فعالیتی ثبت نکرده‌اید. اولین فعالیت خود را ثبت کنید!
                        </td>
                    </tr>
                `;
                return;
            }
            
            performanceHistory.innerHTML = sampleData.performanceHistory.map(performance => `
                <tr>
                    <td>${performance.date}</td>
                    <td>${performance.activity}</td>
                    <td>${performance.duration}</td>
                    <td><span style="color: ${performance.status === 'تایید شده' ? 'var(--accent-green)' : 'var(--accent-orange)'}; font-weight: 600;">${performance.status}</span></td>
                    <td><span style="color: ${performance.score > 0 ? 'var(--accent-gold)' : 'var(--text-gray)'}; font-weight: 600;">${performance.score}</span></td>
                </tr>
            `).join('');
        }
        
        // تنظیم نمودارهای کاربر
        function setupCharts() {
            // اگر کاربر جدید است، نمودارها را خالی نمایش بده
            const isNewUser = currentUser && (currentUser.isNewUser || currentUser.score === 0);
            
            // نمودار هفتگی
            const weeklyCtx = document.getElementById('weeklyChart');
            if (weeklyCtx) {
                if (isNewUser) {
                    // نمودار خالی برای کاربر جدید
                    new Chart(weeklyCtx, {
                        type: 'line',
                        data: {
                            labels: ['شنبه', 'یکشنبه', 'دوشنبه', 'سه‌شنبه', 'چهارشنبه', 'پنجشنبه', 'جمعه'],
                            datasets: [{
                                label: 'دقیقه تمرین',
                                data: [0, 0, 0, 0, 0, 0, 0],
                                borderColor: 'rgba(200, 200, 200, 0.5)',
                                backgroundColor: 'rgba(200, 200, 200, 0.1)',
                                tension: 0.3,
                                fill: true,
                                borderDash: [5, 5]
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 60
                                }
                            }
                        }
                    });
                } else {
                    // نمودار معمولی برای کاربران نمونه
                    new Chart(weeklyCtx, {
                        type: 'line',
                        data: {
                            labels: ['شنبه', 'یکشنبه', 'دوشنبه', 'سه‌شنبه', 'چهارشنبه', 'پنجشنبه', 'جمعه'],
                            datasets: [{
                                label: 'دقیقه تمرین',
                                data: currentUser.level === 1 ? [15, 20, 0, 25, 30, 10, 20] : 
                                      currentUser.level === 2 ? [30, 40, 20, 45, 50, 25, 35] :
                                      currentUser.level === 3 ? [45, 60, 30, 75, 90, 50, 65] :
                                      currentUser.level === 4 ? [60, 75, 45, 90, 120, 70, 85] :
                                      [75, 90, 60, 120, 150, 90, 105],
                                borderColor: '#00b09b',
                                backgroundColor: 'rgba(0, 176, 155, 0.1)',
                                tension: 0.3,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
            }
            
            // نمودار ماهانه
            const monthlyCtx = document.getElementById('monthlyChart');
            if (monthlyCtx) {
                if (isNewUser) {
                    // نمودار خالی برای کاربر جدید
                    new Chart(monthlyCtx, {
                        type: 'bar',
                        data: {
                            labels: ['هفته ۱', 'هفته ۲', 'هفته ۳', 'هفته ۴'],
                            datasets: [{
                                label: 'ساعات تمرین',
                                data: [0, 0, 0, 0],
                                backgroundColor: 'rgba(200, 200, 200, 0.3)',
                                borderColor: 'rgba(200, 200, 200, 0.5)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 15
                                }
                            }
                        }
                    });
                } else {
                    // نمودار معمولی
                    new Chart(monthlyCtx, {
                        type: 'bar',
                        data: {
                            labels: ['هفته ۱', 'هفته ۲', 'هفته ۳', 'هفته ۴'],
                            datasets: [{
                                label: 'ساعات تمرین',
                                data: currentUser.level === 1 ? [2, 3, 1, 4] : 
                                      currentUser.level === 2 ? [4, 5, 3, 6] :
                                      currentUser.level === 3 ? [6, 8, 5, 9] :
                                      currentUser.level === 4 ? [8, 10, 7, 12] :
                                      [10, 12, 9, 14],
                                backgroundColor: [
                                    'rgba(255, 126, 95, 0.7)',
                                    'rgba(106, 17, 203, 0.7)',
                                    'rgba(37, 117, 252, 0.7)',
                                    'rgba(0, 176, 155, 0.7)'
                                ],
                                borderColor: [
                                    '#ff7e5f',
                                    '#6a11cb',
                                    '#2575fc',
                                    '#00b09b'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            }
                        }
                    });
                }
            }
            
            // نمودار روزانه
            const dailyCtx = document.getElementById('dailyChart');
            if (dailyCtx) {
                if (isNewUser) {
                    // نمودار خالی برای کاربر جدید
                    new Chart(dailyCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['هنوز شروع نکرده‌اید'],
                            datasets: [{
                                data: [100],
                                backgroundColor: ['rgba(200, 200, 200, 0.5)']
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'bottom'
                                }
                            },
                            cutout: '70%'
                        }
                    });
                } else {
                    // نمودار معمولی
                    new Chart(dailyCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['کاردیو', 'قدرتی', 'انعطاف‌پذیری', 'استراحت'],
                            datasets: [{
                                data: [40, 35, 15, 10],
                                backgroundColor: [
                                    '#f80759',
                                    '#2575fc',
                                    '#00b09b',
                                    '#6a11cb'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'bottom'
                                }
                            },
                            cutout: '70%'
                        }
                    });
                }
            }
        }
        
        // تنظیم نمودارهای مربی
        function setupCoachCharts() {
            const incomeCtx = document.getElementById('coach-income-chart');
            if (incomeCtx) {
                new Chart(incomeCtx, {
                    type: 'bar',
                    data: {
                        labels: ['مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'],
                        datasets: [{
                            label: 'درآمد (میلیون تومان)',
                            data: [10, 12.5, 14, 16, 18, 20],
                            backgroundColor: 'rgba(106, 17, 203, 0.7)',
                            borderColor: '#6a11cb',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'میلیون تومان'
                                }
                            }
                        }
                    }
                });
            }
        }
        
        // تنظیم نمودارهای ادمین
        function setupAdminCharts() {
            const growthCtx = document.getElementById('admin-growth-chart');
            if (growthCtx) {
                new Chart(growthCtx, {
                    type: 'line',
                    data: {
                        labels: ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر'],
                        datasets: [{
                            label: 'کاربران جدید',
                            data: [120, 190, 300, 500, 700, 900, 1200],
                            borderColor: '#00b09b',
                            backgroundColor: 'rgba(0, 176, 155, 0.1)',
                            tension: 0.3,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'کاربر جدید'
                                }
                            }
                        }
                    }
                });
            }
            
            const activityCtx = document.getElementById('admin-activity-chart');
            if (activityCtx) {
                new Chart(activityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['دویدن', 'بدنسازی', 'یوگا', 'شنا', 'دوچرخه'],
                        datasets: [{
                            label: 'تعداد فعالیت‌ها',
                            data: [450, 320, 280, 150, 220],
                            backgroundColor: [
                                'rgba(106, 17, 203, 0.7)',
                                'rgba(37, 117, 252, 0.7)',
                                'rgba(0, 176, 155, 0.7)',
                                'rgba(255, 126, 95, 0.7)',
                                'rgba(248, 7, 89, 0.7)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }
            
            const levelsCtx = document.getElementById('admin-levels-chart');
            if (levelsCtx) {
                new Chart(levelsCtx, {
                    type: 'pie',
                    data: {
                        labels: ['سطح ۱', 'سطح ۲', 'سطح ۳', 'سطح ۴', 'سطح ۵'],
                        datasets: [{
                            data: [35, 25, 20, 15, 5],
                            backgroundColor: [
                                '#00b09b',
                                '#2575fc',
                                '#ff7e5f',
                                '#f80759',
                                '#6a11cb'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }
        }
        
        // بارگذاری پیام‌های اولیه چت
        function loadInitialChatMessages() {
            const chatMessages = document.getElementById('chat-messages');
            if (!chatMessages) return;
            
            chatMessages.innerHTML = `
                <div class="message received">
                    <div><strong>مربی شخصی:</strong></div>
                    <div>سلام! آماده‌اید که برنامه تمرینی جدید را شروع کنیم؟</div>
                    <div class="message-time">دیروز ۱۴:۳۰</div>
                </div>
                <div class="message sent">
                    <div><strong>شما:</strong></div>
                    <div>سلام! بله حتما. منتظر برنامه جدید هستم.</div>
                    <div class="message-time">دیروز ۱۵:۱۵</div>
                </div>
                <div class="message received">
                    <div><strong>مربی شخصی:</strong></div>
                    <div>عالی! برنامه را فردا صبح برایتان ارسال می‌کنم.</div>
                    <div class="message-time">امروز ۰۹:۰۰</div>
                </div>
            `;
            
            // اسکرول به پایین
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // بارگذاری پیام‌های اولیه چت مربی
        function loadInitialCoachChatMessages() {
            const chatMessages = document.getElementById('coach-chat-messages');
            if (!chatMessages) return;
            
            chatMessages.innerHTML = `
                <div class="message received">
                    <div><strong>حمید حسینی:</strong></div>
                    <div>سلام مربی! سوالی در مورد تمرینات دیروز داشتم.</div>
                    <div class="message-time">دیروز ۱۴:۳۰</div>
                </div>
                <div class="message sent">
                    <div><strong>شما:</strong></div>
                    <div>سلام حمید جان! بگو چه سوالی داری؟</div>
                    <div class="message-time">دیروز ۱۵:۱۵</div>
                </div>
                <div class="message received">
                    <div><strong>حمید حسینی:</strong></div>
                    <div>در حرکت اسکات احساس درد در زانو دارم. طبیعی است؟</div>
                    <div class="message-time">امروز ۰۹:۰۰</div>
                </div>
            `;
            
            // اسکرول به پایین
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // نمایش صفحه خاص در پورتال
        function showPage(pageId) {
            // مخفی کردن همه صفحات
            const pages = document.querySelectorAll('.portal-page');
            pages.forEach(page => {
                page.classList.add('hidden');
            });
            
            // نمایش صفحه انتخاب شده
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }
            
            // به‌روزرسانی لینک‌های ناوبری
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
            
            currentPage = pageId;
            
            // اگر صفحه ثبت عملکرد است، فایل‌های آپلود شده را پاک کن
            if (pageId === 'user-performance') {
                clearUploadedFiles();
            }
            
            // اسکرول به بالای صفحه
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // باز کردن مودال رویداد
        function openEventModal(eventId) {
            const event = sampleData.events.find(e => e.id === eventId);
            if (!event) return;
            
            const modal = document.getElementById('event-modal');
            const modalContent = document.getElementById('modal-content');
            
            modalContent.innerHTML = `
                <h2 style="color: var(--accent-purple); margin-bottom: 20px;">${event.title}</h2>
                <img src="${event.image}" alt="${event.title}" style="width: 100%; border-radius: 15px; margin: 20px 0; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
                    <div style="background: rgba(106, 17, 203, 0.1); padding: 15px; border-radius: 12px;">
                        <div style="font-weight: 600; color: var(--accent-purple);">تاریخ</div>
                        <div>${event.date}</div>
                    </div>
                    <div style="background: rgba(37, 117, 252, 0.1); padding: 15px; border-radius: 12px;">
                        <div style="font-weight: 600; color: var(--accent-blue);">مکان</div>
                        <div>${event.location}</div>
                    </div>
                </div>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 30px;">${event.description}</p>
                <div style="margin-top: 30px;">
                    <button class="btn btn-primary" style="width: 100%; padding: 18px;">
                        <i class="fas fa-user-plus"></i> ثبت‌نام در رویداد
                    </button>
                </div>
            `;
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        // باز کردن مودال حساب‌های نمونه
        function openSampleAccountsModal() {
            const modal = document.getElementById('sample-accounts-modal');
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }
        
        // بستن مودال
        function closeModal() {
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(modal => {
                modal.classList.remove('active');
            });
            document.body.style.overflow = 'auto';
        }
        
        // تغییر تم
        function toggleTheme() {
            const body = document.body;
            
            if (currentTheme === 'dark') {
                body.classList.add('light-theme');
                currentTheme = 'light';
                document.querySelectorAll('.theme-toggle i').forEach(icon => {
                    icon.className = 'fas fa-sun';
                });
            } else {
                body.classList.remove('light-theme');
                currentTheme = 'dark';
                document.querySelectorAll('.theme-toggle i').forEach(icon => {
                    icon.className = 'fas fa-moon';
                });
            }
            
            // ذخیره تم در localStorage
            localStorage.setItem('track_theme', currentTheme);
        }
        
        // بارگذاری تم ذخیره شده
        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('track_theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
                currentTheme = 'light';
                document.querySelectorAll('.theme-toggle i').forEach(icon => {
                    icon.className = 'fas fa-sun';
                });
            }
        }
        
        // خروج از سیستم
        function logout() {
            currentUser = null;
            localStorage.removeItem('track_current_user');
            
            // مخفی کردن همه پورتال‌ها
            document.getElementById('user-portal').classList.add('hidden');
            document.getElementById('coach-portal').classList.add('hidden');
            document.getElementById('admin-portal').classList.add('hidden');
            
            // نمایش صفحه احراز هویت
            document.getElementById('auth-page').classList.remove('hidden');
            
            // بازنشانی فرم ورود
            isLoginMode = true;
            const authTitle = document.getElementById('auth-title');
            const authButton = document.getElementById('auth-button');
            const toggleText = document.getElementById('toggle-text');
            const toggleLink = document.getElementById('toggle-link');
            const signupFields = document.getElementById('signup-fields');
            const authMessage = document.getElementById('auth-message');
            
            authTitle.textContent = 'ورود به Track';
            authButton.innerHTML = '<i class="fas fa-sign-in-alt"></i> ورود به حساب کاربری';
            toggleText.textContent = 'حساب کاربری ندارید؟';
            toggleLink.textContent = 'ثبت‌نام کنید';
            signupFields.classList.add('hidden');
            
            if (authMessage) {
                authMessage.style.display = 'none';
                authMessage.textContent = '';
            }
            
            // پاک کردن فیلدها
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            
            // نمایش نوتیفیکیشن
            showNotification('خروج موفق', 'شما با موفقیت از حساب کاربری خود خارج شدید.', 'info');
        }
        
        // آپلود فایل‌ها
        function handleFileUpload(files) {
            const uploadPreview = document.getElementById('upload-preview');
            if (!uploadPreview) return;
            
            Array.from(files).forEach(file => {
                // بررسی نوع فایل و حجم
                const validTypes = ['image/jpeg', 'image/png', 'video/mp4', 'application/pdf', 'text/plain'];
                const maxSize = 10 * 1024 * 1024; // 10MB
                
                if (!validTypes.includes(file.type)) {
                    showNotification('خطا در آپلود', `نوع فایل ${file.name} پشتیبانی نمی‌شود.`, 'error');
                    return;
                }
                
                if (file.size > maxSize) {
                    showNotification('خطا در آپلود', `حجم فایل ${file.name} بیش از حد مجاز است (حداکثر ۱۰ مگابایت).`, 'error');
                    return;
                }
                
                uploadedFiles.push(file);
                
                // ایجاد پیش‌نمایش
                const reader = new FileReader();
                reader.onload = function(e) {
                    const uploadItem = document.createElement('div');
                    uploadItem.className = 'upload-item';
                    
                    if (file.type.startsWith('image/')) {
                        uploadItem.innerHTML = `
                            <img src="${e.target.result}" alt="${file.name}">
                            <button class="remove-btn" onclick="removeUploadedFile('${file.name}')">
                                <i class="fas fa-times"></i>
                            </button>
                        `;
                    } else if (file.type.startsWith('video/')) {
                        uploadItem.innerHTML = `
                            <video controls>
                                <source src="${e.target.result}" type="${file.type}">
                            </video>
                            <button class="remove-btn" onclick="removeUploadedFile('${file.name}')">
                                <i class="fas fa-times"></i>
                            </button>
                        `;
                    } else {
                        uploadItem.innerHTML = `
                            <div style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue)); display: flex; align-items: center; justify-content: center; color: white;">
                                <i class="fas fa-file" style="font-size: 3rem;"></i>
                            </div>
                            <button class="remove-btn" onclick="removeUploadedFile('${file.name}')">
                                <i class="fas fa-times"></i>
                            </button>
                            <div style="position: absolute; bottom: 5px; right: 5px; left: 5px; background: rgba(0,0,0,0.7); color: white; padding: 5px; font-size: 0.8rem; text-align: center; border-radius: 5px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                ${file.name}
                            </div>
                        `;
                    }
                    
                    uploadPreview.appendChild(uploadItem);
                };
                
                reader.readAsDataURL(file);
            });
            
            // نمایش نوتیفیکیشن موفقیت
            if (files.length > 0) {
                showNotification('آپلود موفق', `${files.length} فایل با موفقیت آپلود شد.`, 'success');
            }
        }
        
        // حذف فایل آپلود شده
        function removeUploadedFile(fileName) {
            uploadedFiles = uploadedFiles.filter(file => file.name !== fileName);
            
            const uploadPreview = document.getElementById('upload-preview');
            if (uploadPreview) {
                const items = uploadPreview.querySelectorAll('.upload-item');
                items.forEach(item => {
                    if (item.querySelector('img') && item.querySelector('img').alt === fileName) {
                        item.remove();
                    } else if (item.querySelector('video') && item.querySelector('source').src.includes(fileName)) {
                        item.remove();
                    } else if (item.textContent.includes(fileName)) {
                        item.remove();
                    }
                });
            }
        }
        
        // پاک کردن فایل‌های آپلود شده
        function clearUploadedFiles() {
            uploadedFiles = [];
            const uploadPreview = document.getElementById('upload-preview');
            if (uploadPreview) {
                uploadPreview.innerHTML = '';
            }
        }
        
        // ارسال عملکرد روزانه
        function submitPerformance() {
            const activityType = document.getElementById('activity-type').value;
            const duration = document.getElementById('duration').value;
            const description = document.getElementById('description').value;
            
            if (!activityType || !duration || !description) {
                showNotification('خطا در ثبت', 'لطفا تمام فیلدهای ضروری را پر کنید.', 'error');
                return;
            }
            
            if (duration <= 0) {
                showNotification('خطا در ثبت', 'مدت زمان باید بیشتر از صفر باشد.', 'error');
                return;
            }
            
            // نمایش پیام موفقیت
            showNotification('ثبت موفق', 'عملکرد شما با موفقیت ثبت شد و برای تایید به مربی ارسال گردید.', 'success');
            
            // پاک کردن فرم
            document.getElementById('activity-type').value = '';
            document.getElementById('duration').value = '';
            document.getElementById('description').value = '';
            clearUploadedFiles();
            
            // اضافه کردن به تاریخچه
            const today = new Date();
            const persianMonths = ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'];
            const month = persianMonths[today.getMonth()];
            const day = today.getDate();
            const year = 1403 + Math.floor((today.getMonth() + 1) / 10);
            
            const newPerformance = {
                date: `${day} ${month} ${year}`,
                activity: document.getElementById('activity-type').options[document.getElementById('activity-type').selectedIndex].text,
                duration: `${duration} دقیقه`,
                status: 'در انتظار تایید',
                score: 0
            };
            
            sampleData.performanceHistory.unshift(newPerformance);
            loadPerformanceHistory();
            
            // به‌روزرسانی امتیاز کاربر
            if (currentUser) {
                // اضافه کردن امتیاز آزمایشی
                currentUser.score += parseInt(duration) * 2; // 2 امتیاز به ازای هر دقیقه
                usersDB[currentUser.username].score = currentUser.score;
                
                // بررسی ارتقای سطح
                const levelRanges = [0, 100, 300, 600, 1000, 1500];
                let newLevel = currentUser.level;
                for (let i = 1; i <= 5; i++) {
                    if (currentUser.score >= levelRanges[i] && i > currentUser.level) {
                        newLevel = i;
                    }
                }
                
                if (newLevel > currentUser.level) {
                    currentUser.level = newLevel;
                    usersDB[currentUser.username].level = newLevel;
                    showNotification('ارتقای سطح!', `تبریک! شما به سطح ${newLevel} و ${getPlanetName(newLevel)} ارتقا یافتید!`, 'success');
                    
                    // به‌روزرسانی صفحه
                    updateUserPlanet();
                    document.getElementById('user-role').textContent = `سطح ${currentUser.level} - ${getPlanetName(currentUser.level)}`;
                    document.getElementById('user-level-badge').textContent = currentUser.level;
                    document.getElementById('profile-level').textContent = `کاربر سطح ${currentUser.level} - ${getPlanetName(currentUser.level)}`;
                }
            }
        }
        
        // ارسال پیام در چت کاربر
        function sendUserMessage() {
            const chatInput = document.getElementById('chat-input');
            const message = chatInput.value.trim();
            
            if (message) {
                const messagesContainer = document.getElementById('chat-messages');
                const messageElement = document.createElement('div');
                messageElement.className = 'message sent';
                messageElement.innerHTML = `
                    <div><strong>شما:</strong></div>
                    <div>${message}</div>
                    <div class="message-time">${new Date().toLocaleTimeString('fa-IR', {hour: '2-digit', minute:'2-digit'})}</div>
                `;
                
                messagesContainer.appendChild(messageElement);
                chatInput.value = '';
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // پاسخ خودکار بعد از 1 ثانیه
                setTimeout(() => {
                    const autoReply = document.createElement('div');
                    autoReply.className = 'message received';
                    autoReply.innerHTML = `
                        <div><strong>مربی شخصی:</strong></div>
                        <div>پیام شما دریافت شد. به زودی پاسخ می‌دهم.</div>
                        <div class="message-time">${new Date().toLocaleTimeString('fa-IR', {hour: '2-digit', minute:'2-digit'})}</div>
                    `;
                    
                    messagesContainer.appendChild(autoReply);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, 1000);
            }
        }
        
        // ارسال پیام در چت مربی
        function sendCoachMessage() {
            const chatInput = document.getElementById('coach-chat-input');
            const message = chatInput.value.trim();
            
            if (message) {
                const messagesContainer = document.getElementById('coach-chat-messages');
                const messageElement = document.createElement('div');
                messageElement.className = 'message sent';
                messageElement.innerHTML = `
                    <div><strong>شما:</strong></div>
                    <div>${message}</div>
                    <div class="message-time">${new Date().toLocaleTimeString('fa-IR', {hour: '2-digit', minute:'2-digit'})}</div>
                `;
                
                messagesContainer.appendChild(messageElement);
                chatInput.value = '';
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // پاسخ خودکار بعد از 1 ثانیه
                setTimeout(() => {
                    const autoReply = document.createElement('div');
                    autoReply.className = 'message received';
                    autoReply.innerHTML = `
                        <div><strong>حمید حسینی:</strong></div>
                        <div>متشکرم! حالا متوجه شدم.</div>
                        <div class="message-time">${new Date().toLocaleTimeString('fa-IR', {hour: '2-digit', minute:'2-digit'})}</div>
                    `;
                    
                    messagesContainer.appendChild(autoReply);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, 1000);
            }
        }
        
        // به‌روزرسانی پورتال مربی
        function updateCoachPortal() {
            if (!currentUser) return;
            
            // به‌روزرسانی اطلاعات مربی
            document.getElementById('coach-display-name').textContent = currentUser.name;
            document.getElementById('coach-specialty').textContent = currentUser.specialty;
            document.getElementById('coach-avatar-img').src = currentUser.avatar;
            document.getElementById('coach-students-count').textContent = currentUser.students || '۱۲';
            
            // به‌روزرسانی پروفایل مربی
            const coachProfileName = document.getElementById('coach-profile-name');
            const coachProfileSpecialty = document.getElementById('coach-profile-specialty');
            const coachProfileExperience = document.getElementById('coach-profile-experience');
            const coachProfileRating = document.getElementById('coach-profile-rating');
            const coachProfileAvatar = document.getElementById('coach-profile-avatar-img');
            
            if (coachProfileName) coachProfileName.textContent = currentUser.name;
            if (coachProfileSpecialty) coachProfileSpecialty.textContent = currentUser.specialty;
            if (coachProfileExperience) coachProfileExperience.textContent = `سابقه: ${currentUser.experience}`;
            if (coachProfileRating) coachProfileRating.textContent = `امتیاز: ${currentUser.rating} ★`;
            if (coachProfileAvatar) coachProfileAvatar.src = currentUser.avatar;
            
            const coachProfileUsername = document.getElementById('coach-profile-username');
            const coachProfileEmail = document.getElementById('coach-profile-email');
            const coachProfileSpecialtyInput = document.getElementById('coach-profile-specialty-input');
            const coachProfileExperienceInput = document.getElementById('coach-profile-experience-input');
            const coachProfileBio = document.getElementById('coach-profile-bio');
            
            if (coachProfileUsername) coachProfileUsername.value = currentUser.username;
            if (coachProfileEmail) coachProfileEmail.value = currentUser.email;
            if (coachProfileSpecialtyInput) coachProfileSpecialtyInput.value = currentUser.specialty;
            if (coachProfileExperienceInput) coachProfileExperienceInput.value = parseInt(currentUser.experience) || 5;
        }
        
        // به‌روزرسانی پورتال ادمین
        function updateAdminPortal() {
            if (!currentUser) return;
            
            // به‌روزرسانی اطلاعات ادمین
            document.getElementById('admin-display-name').textContent = currentUser.name;
            document.getElementById('admin-avatar-img').src = currentUser.avatar;
        }
        
        // تنظیم event listeners
        function setupEventListeners() {
            // تغییر حالت ورود/ثبت‌نام
            const toggleLink = document.getElementById('toggle-link');
            if (toggleLink) {
                toggleLink.addEventListener('click', toggleAuthMode);
            }
            
            // دکمه ورود/ثبت‌نام
            const authButton = document.getElementById('auth-button');
            if (authButton) {
                authButton.addEventListener('click', function() {
                    if (isLoginMode) {
                        // حالت ورود
                        const username = document.getElementById('email').value;
                        const password = document.getElementById('password').value;
                        
                        if (!username || !password) {
                            const authMessage = document.getElementById('auth-message');
                            authMessage.style.color = 'var(--accent-red)';
                            authMessage.textContent = 'لطفا نام کاربری و رمز عبور را وارد کنید';
                            authMessage.style.display = 'block';
                            return;
                        }
                        
                        loginUser(username, password);
                    } else {
                        // حالت ثبت‌نام
                        const fullname = document.getElementById('username').value;
                        const email = document.getElementById('user-email').value;
                        const password = document.getElementById('password').value;
                        const confirmPassword = document.getElementById('confirm-password').value;
                        
                        if (password !== confirmPassword) {
                            const authMessage = document.getElementById('auth-message');
                            authMessage.style.color = 'var(--accent-red)';
                            authMessage.textContent = 'رمز عبور و تکرار آن مطابقت ندارند';
                            authMessage.style.display = 'block';
                            return;
                        }
                        
                        signupUser(fullname, email, password);
                    }
                });
            }
            
            // دکمه نمایش حساب‌های نمونه
            const showSampleAccountsBtn = document.getElementById('show-sample-accounts-modal');
            if (showSampleAccountsBtn) {
                showSampleAccountsBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    openSampleAccountsModal();
                });
            }
            
            // تغییر تم
            document.querySelectorAll('.theme-toggle').forEach(button => {
                button.addEventListener('click', toggleTheme);
            });
            
            // بارگذاری تم ذخیره شده
            loadSavedTheme();
            
            // ناوبری
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    showPage(pageId);
                });
            });
            
            // دکمه رفتن به داشبورد از صفحه خوش‌آمدگویی
            const goToDashboardBtn = document.getElementById('go-to-dashboard-btn');
            if (goToDashboardBtn) {
                goToDashboardBtn.addEventListener('click', function() {
                    showPage('user-dashboard');
                });
            }
            
            // دکمه خروج
            document.querySelectorAll('.logout-btn').forEach(button => {
                button.addEventListener('click', logout);
            });
            
            // بستن مودال
            const modalClose = document.getElementById('modal-close');
            if (modalClose) {
                modalClose.addEventListener('click', closeModal);
            }
            
            // بستن مودال حساب‌های نمونه
            const sampleModalClose = document.getElementById('sample-modal-close');
            const closeSampleModalBtn = document.getElementById('close-sample-modal');
            
            if (sampleModalClose) {
                sampleModalClose.addEventListener('click', closeModal);
            }
            
            if (closeSampleModalBtn) {
                closeSampleModalBtn.addEventListener('click', closeModal);
            }
            
            // بستن مودال با کلیک روی overlay
            const modalOverlays = document.querySelectorAll('.modal-overlay');
            modalOverlays.forEach(modalOverlay => {
                modalOverlay.addEventListener('click', function(e) {
                    if (e.target === modalOverlay) {
                        closeModal();
                    }
                });
            });
            
            // تغییر عکس پروفایل کاربر
            const avatarUpload = document.getElementById('avatar-upload');
            if (avatarUpload) {
                avatarUpload.addEventListener('change', function(e) {
                    if (this.files && this.files[0]) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            // به‌روزرسانی عکس در پورتال کاربر
                            document.querySelectorAll('#user-avatar-img, #profile-avatar-img').forEach(img => {
                                img.src = e.target.result;
                            });
                            
                            // ذخیره در اطلاعات کاربر
                            if (currentUser) {
                                currentUser.avatar = e.target.result;
                                usersDB[currentUser.username].avatar = e.target.result;
                            }
                            
                            showNotification('تغییر عکس', 'عکس پروفایل با موفقیت تغییر کرد.', 'success');
                        };
                        reader.readAsDataURL(this.files[0]);
                    }
                });
            }
            
            // تغییر عکس پروفایل مربی
            const coachAvatarUpload = document.getElementById('coach-avatar-upload');
            if (coachAvatarUpload) {
                coachAvatarUpload.addEventListener('change', function(e) {
                    if (this.files && this.files[0]) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            // به‌روزرسانی عکس در پورتال مربی
                            document.querySelectorAll('#coach-avatar-img, #coach-profile-avatar-img').forEach(img => {
                                img.src = e.target.result;
                            });
                            
                            // ذخیره در اطلاعات مربی
                            if (currentUser) {
                                currentUser.avatar = e.target.result;
                                usersDB[currentUser.username].avatar = e.target.result;
                            }
                            
                            showNotification('تغییر عکس', 'عکس پروفایل مربی با موفقیت تغییر کرد.', 'success');
                        };
                        reader.readAsDataURL(this.files[0]);
                    }
                });
            }
            
            // ذخیره پروفایل کاربر
            const saveProfileBtn = document.getElementById('save-profile');
            if (saveProfileBtn) {
                saveProfileBtn.addEventListener('click', function() {
                    const newPassword = document.getElementById('profile-password').value;
                    const confirmPassword = document.getElementById('profile-confirm-password').value;
                    
                    if (newPassword && newPassword !== confirmPassword) {
                        showNotification('خطا در ذخیره', 'رمز عبور و تکرار آن مطابقت ندارند.', 'error');
                        return;
                    }
                    
                    if (newPassword) {
                        // به‌روزرسانی رمز عبور
                        currentUser.password = newPassword;
                        usersDB[currentUser.username].password = newPassword;
                        
                        // پاک کردن فیلدها
                        document.getElementById('profile-password').value = '';
                        document.getElementById('profile-confirm-password').value = '';
                    }
                    
                    showNotification('ذخیره موفق', 'تغییرات با موفقیت ذخیره شدند.', 'success');
                });
            }
            
            // ذخیره پروفایل مربی
            const coachSaveProfileBtn = document.getElementById('coach-save-profile');
            if (coachSaveProfileBtn) {
                coachSaveProfileBtn.addEventListener('click', function() {
                    const specialty = document.getElementById('coach-profile-specialty-input').value;
                    const experience = document.getElementById('coach-profile-experience-input').value;
                    const bio = document.getElementById('coach-profile-bio').value;
                    
                    if (currentUser) {
                        currentUser.specialty = specialty;
                        currentUser.experience = `${experience} سال`;
                        usersDB[currentUser.username].specialty = specialty;
                        usersDB[currentUser.username].experience = `${experience} سال`;
                        
                        // به‌روزرسانی نمایش
                        document.getElementById('coach-specialty').textContent = specialty;
                        document.getElementById('coach-profile-specialty').textContent = specialty;
                        document.getElementById('coach-profile-experience').textContent = `سابقه: ${experience} سال`;
                    }
                    
                    showNotification('ذخیره موفق', 'اطلاعات مربی با موفقیت به‌روزرسانی شد.', 'success');
                });
            }
            
            // ارسال پیام در چت کاربر
            const sendMessageBtn = document.getElementById('send-message');
            const chatInput = document.getElementById('chat-input');
            
            if (sendMessageBtn && chatInput) {
                sendMessageBtn.addEventListener('click', sendUserMessage);
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendUserMessage();
                    }
                });
            }
            
            // ارسال پیام در چت مربی
            const coachSendMessageBtn = document.getElementById('coach-send-message');
            const coachChatInput = document.getElementById('coach-chat-input');
            
            if (coachSendMessageBtn && coachChatInput) {
                coachSendMessageBtn.addEventListener('click', sendCoachMessage);
                coachChatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendCoachMessage();
                    }
                });
            }
            
            // آپلود فایل‌ها در بخش عملکرد روزانه
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            
            if (uploadArea && fileInput) {
                uploadArea.addEventListener('click', function() {
                    fileInput.click();
                });
                
                uploadArea.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    uploadArea.style.background = 'rgba(106, 17, 203, 0.2)';
                    uploadArea.style.borderColor = 'var(--accent-blue)';
                });
                
                uploadArea.addEventListener('dragleave', function() {
                    uploadArea.style.background = '';
                    uploadArea.style.borderColor = 'var(--accent-purple)';
                });
                
                uploadArea.addEventListener('drop', function(e) {
                    e.preventDefault();
                    uploadArea.style.background = '';
                    uploadArea.style.borderColor = 'var(--accent-purple)';
                    handleFileUpload(e.dataTransfer.files);
                });
                
                fileInput.addEventListener('change', function() {
                    handleFileUpload(this.files);
                    this.value = ''; // پاک کردن مقدار برای آپلود مجدد
                });
            }
            
            // ارسال عملکرد روزانه
            const submitPerformanceBtn = document.getElementById('submit-performance');
            if (submitPerformanceBtn) {
                submitPerformanceBtn.addEventListener('click', submitPerformance);
            }
            
            // تماس‌های مربی
            const coachContactItems = document.querySelectorAll('.chat-contact');
            coachContactItems.forEach(item => {
                item.addEventListener('click', function() {
                    // حذف کلاس active از همه
                    coachContactItems.forEach(i => {
                        i.style.background = 'rgba(255, 255, 255, 0.05)';
                    });
                    
                    // اضافه کردن کلاس active به آیتم انتخاب شده
                    this.style.background = 'rgba(106, 17, 203, 0.2)';
                    
                    // تغییر عنوان چت
                    const chatHeader = document.querySelector('.chat-main .chat-header h4');
                    if (chatHeader) {
                        const contactName = this.querySelector('span') ? this.querySelector('span').textContent : this.textContent.replace('مربی شخصی', '').replace('چت عمومی', '').replace('دوست', '').trim();
                        chatHeader.textContent = contactName || 'گفتگو';
                    }
                });
            });
            
            // تماس‌های مربی در پنل مربی
            const coachPanelContactItems = document.querySelectorAll('#coach-chat .chat-contact');
            coachPanelContactItems.forEach(item => {
                item.addEventListener('click', function() {
                    // حذف کلاس active از همه
                    coachPanelContactItems.forEach(i => {
                        i.style.background = 'rgba(255, 255, 255, 0.05)';
                    });
                    
                    // اضافه کردن کلاس active به آیتم انتخاب شده
                    this.style.background = 'rgba(106, 17, 203, 0.2)';
                    
                    // تغییر عنوان چت
                    const chatHeader = document.querySelector('#coach-chat .chat-main .chat-header h4');
                    if (chatHeader) {
                        const contactName = this.textContent.replace('حمید حسینی', '').replace('فاطمه محمدی', '').replace('چت عمومی', '').replace('مربیان', '').trim();
                        chatHeader.textContent = contactName || 'گفتگو';
                    }
                });
            });
            
            // رویدادهای تقویم
            const calendarDays = document.querySelectorAll('.calendar-day');
            calendarDays.forEach(day => {
                day.addEventListener('click', function() {
                    // حذف کلاس active از همه
                    calendarDays.forEach(d => {
                        d.classList.remove('active');
                    });
                    
                    // اضافه کردن کلاس active به روز انتخاب شده
                    this.classList.add('active');
                    
                    // اگر روز دارای رویداد است
                    if (this.classList.contains('event')) {
                        showNotification('رویداد', 'این روز دارای رویداد ورزشی است!', 'info');
                    }
                });
            });
        }
        
        // توابع عمومی برای استفاده در HTML
        window.openEventModal = openEventModal;
        window.removeUploadedFile = removeUploadedFile;
        
        // کلیدهای میانبر برای تست
        document.addEventListener('keydown', function(e) {
            // برای تست سریع می‌توان از کلیدهای میانبر استفاده کرد
            if (e.ctrlKey && e.key === '1') {
                document.getElementById('email').value = 'admin';
                document.getElementById('password').value = 'admin';
                document.getElementById('auth-button').click();
            } else if (e.ctrlKey && e.key === '2') {
                document.getElementById('email').value = 'ali';
                document.getElementById('password').value = '123456';
                document.getElementById('auth-button').click();
            } else if (e.ctrlKey && e.key === '3') {
                document.getElementById('email').value = 'hamid';
                document.getElementById('password').value = '123456';
                document.getElementById('auth-button').click();
            }
        });
    </script>
</body>
</html>
